const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/index.9YZ__GaB.js","assets/chunks/Charts.vue_vue_type_style_index_0_scoped_b34efd09_lang.BiBfcChI.js"])))=>i.map(i=>d[i]);
import{_ as ee,p as $,h as te,v as oe,P as q,V as se,x as ne,c as L,o as O,j as e,t as D,F as le,B as re,N as ie,e as ce,a as N,G as Z}from"./chunks/framework.Mlx6MwMA.js";import{i as T,L as de}from"./chunks/Charts.vue_vue_type_style_index_0_scoped_b34efd09_lang.BiBfcChI.js";const ue={class:"charts"},me={key:0,class:"loading"},fe={key:1,class:"error"},ve={key:2},pe={class:"stats-overview"},he={class:"stat-card"},be={class:"stat-number"},ge={class:"stat-card"},ye={class:"stat-number"},xe={class:"stat-card"},_e={class:"stat-number"},we={class:"stat-card"},Se={class:"stat-number"},$e={class:"chart-container"},Ce={class:"chart-container"},De={key:0,class:"chart-container"},ke={key:1,class:"chart-container"},Pe={class:"chart-container"},Le={class:"chart-container"},Oe={__name:"Charts",setup(K){const x=$(!1),l=$(!1),z=$(null),W=$(null),k=$(null),b=$(null),I=$(null),B=$(!0),F=$(null),d=$([]),a=$({});let r=null,i=null,s=null,f=null,p=null;const C=()=>{typeof window<"u"&&(l.value=document.documentElement.classList.contains("dark"))},_=()=>l.value?"dark":"light",u=()=>l.value?{textColor:"#ffffff",backgroundColor:"#1a1a1a",axisLineColor:"#484848",splitLineColor:"#484848"}:{textColor:"#333333",backgroundColor:"#ffffff",axisLineColor:"#e0e0e0",splitLineColor:"#f0f0f0"},R=()=>{const m=Object.entries(a.value).sort((t,c)=>c[1]-t[1]).slice(0,10).map(([t,c])=>({name:t,value:c}));return{title:{text:"ç ”ç©¶æ–¹å‘åˆ†å¸ƒ",subtext:"æˆå‘˜ç ”ç©¶æ–¹å‘ç»Ÿè®¡",left:"center",textStyle:{fontSize:20,fontWeight:"bold",color:u().textColor},subtextStyle:{fontSize:14,color:l.value?"#cccccc":"#666666"}},tooltip:{trigger:"item",formatter:function(t){const c=t.percent,v=t.value;return`${t.seriesName}<br/>${t.name}: ${v} äºº (${c}%)`}},legend:{orient:"vertical",left:"left",top:"middle",itemGap:12,textStyle:{fontSize:12,color:u().textColor}},series:[{name:"ç ”ç©¶æ–¹å‘",type:"pie",radius:["40%","70%"],center:["60%","50%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:20,fontWeight:"bold"}},labelLine:{show:!1},data:m,animationType:"scale",animationEasing:"elasticOut",animationDelay:function(t){return Math.random()*200}}]}},M=()=>{const m=Object.entries(a.value).sort((t,c)=>c[1]-t[1]).slice(0,15);return{title:{text:"ç ”ç©¶æ–¹å‘ç»Ÿè®¡",subtext:`å¹³å‡æ¯äººæ¶‰åŠ ${V.value.avgDomainsPerMember} ä¸ªæ–¹å‘`,left:"center",textStyle:{fontSize:20,fontWeight:"bold",color:u().textColor},subtextStyle:{fontSize:14,color:l.value?"#cccccc":"#666666"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow",shadowStyle:{color:"rgba(0, 0, 0, 0.1)"}},formatter:function(t){const c=t[0],v=d.value.length,w=(c.value/v*100).toFixed(1);return`${c.name}<br/>æˆå‘˜æ•°é‡: ${c.value} äºº<br/>å æ¯”: ${w}%`}},grid:{left:"5%",right:"5%",bottom:"15%",top:"20%",containLabel:!0},xAxis:{type:"category",data:m.map(([t,c])=>t),axisLabel:{rotate:45,interval:0,fontSize:12,color:u().textColor},axisLine:{lineStyle:{color:u().axisLineColor}}},yAxis:{type:"value",name:"æˆå‘˜æ•°é‡",nameTextStyle:{color:u().textColor,fontSize:12},axisLabel:{color:u().textColor},axisLine:{lineStyle:{color:u().axisLineColor}},splitLine:{lineStyle:{color:u().splitLineColor}}},series:[{name:"æˆå‘˜æ•°é‡",type:"bar",barWidth:"60%",data:m.map(([t,c],v)=>({value:c,itemStyle:{color:new de(0,0,0,1,[{offset:0,color:`hsl(${v*30%360}, 70%, 60%)`},{offset:1,color:`hsl(${v*30%360}, 70%, 40%)`}])}})),animationDelay:function(t){return t*50}}]}},H=()=>{const m=Object.entries(a.value).filter(([t,c])=>t&&t.trim()&&c>0).sort((t,c)=>c[1]-t[1]).slice(0,30).map(([t,c],v)=>({name:t.trim(),value:c,textStyle:{fontSize:Math.max(14,Math.min(40,c*4+16)),color:Q()[v%Q().length]}}));return console.log("è¯äº‘æ•°æ®:",m),{title:{text:"ç ”ç©¶æ–¹å‘è¯äº‘",subtext:"å­—ä½“å¤§å°åæ˜ çƒ­é—¨ç¨‹åº¦",left:"center",textStyle:{fontSize:20,fontWeight:"bold",color:u().textColor},subtextStyle:{fontSize:14,color:l.value?"#cccccc":"#666666"}},tooltip:{formatter:function(t){return`${t.name}: ${t.value} äºº`},backgroundColor:l.value?"rgba(0, 0, 0, 0.8)":"rgba(255, 255, 255, 0.9)",borderColor:l.value?"#666":"#ccc",textStyle:{color:l.value?"#fff":"#333"}},backgroundColor:"transparent",series:[{type:"wordCloud",gridSize:4,sizeRange:[14,40],rotationRange:[-45,45],rotationStep:15,shape:"circle",left:"center",top:"center",width:"85%",height:"75%",right:null,bottom:null,drawOutOfBound:!1,layoutAnimation:!0,textStyle:{fontFamily:"Arial, Microsoft YaHei, sans-serif",fontWeight:"bold"},emphasis:{focus:"self",textStyle:{shadowBlur:8,shadowColor:l.value?"rgba(255, 255, 255, 0.5)":"rgba(0, 0, 0, 0.5)",textBorderColor:l.value?"#fff":"#000",textBorderWidth:1}},data:m}]}},Q=()=>l.value?["#6b9bd2","#a5d86c","#ffcc5c","#ff7875","#87ceeb","#52c41a","#ff9c6e","#b37feb","#f759ab","#36cfc9","#ffc53d","#ff85c0","#95de64","#5cdbd3","#85a5ff"]:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc","#13c2c2","#faad14","#eb2f96","#52c41a","#1890ff","#722ed1"],Y=()=>{const m=d.value.filter(n=>n&&n.name&&(n.id||n.name)),t=Object.keys(a.value).filter(n=>n&&n.trim()),c=new Set,v=m.map(n=>{const y=`member_${n.id||n.name}`;return c.has(y)?(console.warn(`é‡å¤çš„æˆå‘˜èŠ‚ç‚¹ID: ${y}`),null):(c.add(y),{id:y,name:n.name,category:0,symbolSize:Math.max(20,Math.min(50,Math.log2((n.domain&&Array.isArray(n.domain)?n.domain.length:1)+1)*15)),itemStyle:{color:"#5470c6"}})}).filter(Boolean),w=new Set,A=t.map(n=>{const y=`domain_${n}`;if(w.has(y))return console.warn(`é‡å¤çš„ç ”ç©¶æ–¹å‘èŠ‚ç‚¹ID: ${y}`),null;w.add(y);const P=a.value[n]||1;return{id:y,name:n,category:1,symbolSize:Math.max(25,Math.min(80,Math.log2(P+1)*20)),itemStyle:{color:"#91cc75"}}}).filter(Boolean),G=[...v,...A],U=[],J=new Set;return m.forEach(n=>{const y=`member_${n.id||n.name}`;c.has(y)&&n.domain&&Array.isArray(n.domain)&&n.domain.forEach(P=>{if(P&&P.trim()){const o=`domain_${P}`,g=`${y}-${o}`;!J.has(g)&&w.has(o)&&(J.add(g),U.push({source:y,target:o,lineStyle:{color:l.value?"#666":"#999",width:2,opacity:.6}}))}})}),{title:{text:"æˆå‘˜ä¸ç ”ç©¶æ–¹å‘å…³ç³»ç½‘ç»œ",subtext:"èŠ‚ç‚¹å¤§å°åæ˜ è¿æ¥æ•°é‡ï¼Œæ”¯æŒæ‹–æ‹½å’Œç¼©æ”¾",left:"center",top:"2%",textStyle:{fontSize:18,fontWeight:"bold",color:u().textColor},subtextStyle:{fontSize:12,color:l.value?"#cccccc":"#666666"}},grid:{left:"15%",right:"15%",top:"25%",bottom:"20%",containLabel:!0},tooltip:{trigger:"item",formatter:function(n){var y;if(n.dataType==="node")if(n.data.category===0){const P=((y=d.value.find(o=>o.name===n.data.name))==null?void 0:y.domain)||[];return`æˆå‘˜: ${n.data.name}<br/>ç ”ç©¶æ–¹å‘: ${P.join(", ")}`}else{const P=a.value[n.data.name]||0;return`ç ”ç©¶æ–¹å‘: ${n.data.name}<br/>æˆå‘˜æ•°é‡: ${P} äºº`}return n.data.name}},legend:{data:["æˆå‘˜","ç ”ç©¶æ–¹å‘"],right:"3%",top:"12%",orient:"vertical",itemGap:15,textStyle:{color:u().textColor,fontSize:12},itemWidth:14,itemHeight:14},series:[{name:"å…³ç³»ç½‘ç»œ",type:"graph",layout:"force",data:G,links:U,categories:[{name:"æˆå‘˜",itemStyle:{color:"#5470c6"}},{name:"ç ”ç©¶æ–¹å‘",itemStyle:{color:"#91cc75"}}],roam:!0,focusNodeAdjacency:!0,draggable:!0,force:{repulsion:400,gravity:.2,edgeLength:[20,80],layoutAnimation:!0,friction:.8,initLayout:"circular"},left:100,right:100,top:150,bottom:120,label:{show:!0,position:"right",formatter:"{b}",fontSize:10,color:u().textColor,distance:5},lineStyle:{color:"source",curveness:.2,opacity:.6},emphasis:{focus:"adjacency",lineStyle:{width:6,opacity:.8}}}]}},X=()=>{const m=["1æœˆ","2æœˆ","3æœˆ","4æœˆ","5æœˆ","6æœˆ"],t=Object.entries(a.value).sort((v,w)=>w[1]-v[1]).slice(0,5).map(([v])=>v),c=t.map(v=>({name:v,data:m.map(()=>Math.floor(Math.random()*20)+5)}));return{title:{text:"ç ”ç©¶æ–¹å‘è¶‹åŠ¿åˆ†æ",subtext:"è¿‘6ä¸ªæœˆæˆå‘˜æ•°é‡å˜åŒ–ï¼ˆæ¨¡æ‹Ÿæ•°æ®ï¼‰",left:"center",textStyle:{fontSize:20,fontWeight:"bold",color:u().textColor},subtextStyle:{fontSize:14,color:l.value?"#cccccc":"#666666"}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:t,top:"10%",type:"scroll",textStyle:{color:u().textColor}},grid:{left:"3%",right:"4%",bottom:"3%",top:"20%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:m,axisLabel:{color:u().textColor},axisLine:{lineStyle:{color:u().axisLineColor}}},yAxis:{type:"value",name:"æˆå‘˜æ•°é‡",axisLabel:{color:u().textColor},axisLine:{lineStyle:{color:u().axisLineColor}},splitLine:{lineStyle:{color:u().splitLineColor}}},series:c.map((v,w)=>({name:v.name,type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!0,symbolSize:6,data:v.data,areaStyle:{opacity:.3}}))}},ae=()=>{try{console.log("å¼€å§‹åˆ·æ–°æ‰€æœ‰å›¾è¡¨ä»¥é€‚åº”ä¸»é¢˜å˜åŒ–"),r&&z.value&&(r.dispose(),r=T(z.value,_()),r.setOption(R())),i&&W.value&&(i.dispose(),i=T(W.value,_()),i.setOption(M())),s&&k.value&&x.value&&(s.dispose(),s=T(k.value,_()),s.setOption(H())),f&&b.value&&(f.dispose(),f=T(b.value,_()),f.setOption(Y())),p&&I.value&&(p.dispose(),p=T(I.value,_()),p.setOption(X())),console.log("æ‰€æœ‰å›¾è¡¨å·²åˆ·æ–°ä»¥é€‚åº”ä¸»é¢˜å˜åŒ–")}catch(m){console.error("åˆ·æ–°å›¾è¡¨æ—¶å‡ºé”™:",m)}},V=te(()=>{var v;const m=d.value.length,t=Object.keys(a.value).length,c=m>0?(d.value.reduce((w,A)=>w+A.domain.length,0)/m).toFixed(1):0;return{totalMembers:m,totalDomains:t,avgDomainsPerMember:c,mostPopularDomain:((v=Object.entries(a.value).sort((w,A)=>A[1]-w[1])[0])==null?void 0:v[0])||"æš‚æ— "}});return oe(async()=>{try{let m=function(o){const g=[];let E="",h=!1,S=0;for(;S<o.length;){const j=o[S];if(j==='"')if(h&&S+1<o.length&&o[S+1]==='"'){E+='"',S+=2;continue}else h=!h;else j===","&&!h?(g.push(E.trim()),E=""):E+=j;S++}return g.push(E.trim()),g.map(j=>j.startsWith('"')&&j.endsWith('"')?j.slice(1,-1):j)},t=function(){try{if(r&&r.dispose(),r=T(z.value,_()),!r){console.error("é¥¼å›¾åˆå§‹åŒ–å¤±è´¥");return}r.setOption(R())}catch(o){console.error("é¥¼å›¾åˆå§‹åŒ–å‡ºé”™:",o)}};C(),typeof window<"u"&&new MutationObserver(()=>{const g=document.documentElement.classList.contains("dark");g!==l.value&&(l.value=g,setTimeout(()=>{ae()},100))}).observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),await q();const v="/members-visualization/data/members.csv".replace(/\/+/g,"/");console.log("Fetching data from:",v);const w=await fetch(v);if(!w.ok)throw new Error(`HTTP error! status: ${w.status}`);const G=(await w.text()).trim().split(`
`),U=m(G[0]),J=G.slice(1).map((o,g)=>{const E=m(o),h={};return U.forEach((S,j)=>{h[S]=E[j]||""}),h.domain=h.domain?h.domain.split(";").map(S=>S.trim()).filter(S=>S):[],h.repositories=h.repositories?h.repositories.split(";").map(S=>S.trim()).filter(S=>S):[],h.public_repos=parseInt(h.public_repos)||0,h.total_stars=parseInt(h.total_stars)||0,h.followers=parseInt(h.followers)||0,h.following=parseInt(h.following)||0,h});d.value=J,console.log("Parsed members:",d.value);const n={};d.value.forEach(o=>{o.domain.forEach(g=>{g&&(n[g]=(n[g]||0)+1)})}),a.value=n,console.log("Domain count:",a.value),B.value=!1,await q(),await new Promise(o=>setTimeout(o,100));try{console.log("å¼€å§‹åŠ è½½è¯äº‘æ’ä»¶...");const o=new Promise((E,h)=>{setTimeout(()=>h(new Error("è¯äº‘æ’ä»¶åŠ è½½è¶…æ—¶")),5e3)}),g=async()=>{if(typeof window<"u"){const E=await se(()=>import("./chunks/index.9YZ__GaB.js"),__vite__mapDeps([0,1]));return console.log("è¯äº‘æ’ä»¶åŠ è½½æˆåŠŸ (å®¢æˆ·ç«¯)",E),!0}return!1};await Promise.race([g(),o]),x.value=!0,console.log("è¯äº‘æ’ä»¶å·²æˆåŠŸå¯ç”¨")}catch(o){console.error("è¯äº‘æ’ä»¶åŠ è½½å¤±è´¥:",o),x.value=!1,console.warn("è¯äº‘å›¾å°†ä¸ä¼šæ˜¾ç¤ºï¼Œä½†ä¸å½±å“å…¶ä»–åŠŸèƒ½")}await q();const y=async(o=5)=>{if(!z.value&&o>0)return console.log(`é¥¼å›¾å®¹å™¨æœªæ‰¾åˆ°ï¼Œç­‰å¾…DOMæ¸²æŸ“... (å‰©ä½™é‡è¯•: ${o})`),await new Promise(g=>setTimeout(g,200)),y(o-1);if(!z.value){console.error("é¥¼å›¾å®¹å™¨æœ€ç»ˆæœªæ‰¾åˆ°ï¼Œè·³è¿‡é¥¼å›¾åˆå§‹åŒ–");return}t()};if(await y(),!W.value)console.warn("æŸ±çŠ¶å›¾å®¹å™¨æœªæ‰¾åˆ°ï¼Œè·³è¿‡æŸ±çŠ¶å›¾åˆå§‹åŒ–");else try{if(i&&i.dispose(),i=T(W.value,_()),!i){console.error("æŸ±çŠ¶å›¾åˆå§‹åŒ–å¤±è´¥");return}i.setOption(M())}catch(o){console.error("æŸ±çŠ¶å›¾åˆå§‹åŒ–å‡ºé”™:",o)}if(x.value&&k.value)try{console.log("å¼€å§‹åˆå§‹åŒ–è¯äº‘å›¾..."),console.log("è¯äº‘æ•°æ®æ¡ç›®æ•°:",Object.entries(a.value).length);const o=k.value;if(console.log("è¯äº‘å®¹å™¨å°ºå¯¸:",{width:o.offsetWidth,height:o.offsetHeight,clientWidth:o.clientWidth,clientHeight:o.clientHeight}),(o.offsetWidth===0||o.offsetHeight===0)&&(console.warn("è¯äº‘å›¾å®¹å™¨å°ºå¯¸ä¸º0ï¼Œè®¾ç½®é»˜è®¤å°ºå¯¸"),o.style.width="100%",o.style.height="450px",await q()),s&&s.dispose(),s=T(o,_()),!s)throw new Error("è¯äº‘å›¾è¡¨å®ä¾‹åˆ›å»ºå¤±è´¥");const g=H();console.log("è¯äº‘å›¾é…ç½®æ•°æ®é¡¹æ•°é‡:",g.series[0].data.length),console.log("è¯äº‘å›¾å‰5é¡¹æ•°æ®:",g.series[0].data.slice(0,5)),s.setOption(g,!0),setTimeout(()=>{s&&!s.isDisposed()&&(s.resize(),console.log("è¯äº‘å›¾é‡æ–°è°ƒæ•´å°ºå¯¸å®Œæˆ"))},200),console.log("è¯äº‘å›¾åˆå§‹åŒ–å®Œæˆ")}catch(o){console.error("è¯äº‘å›¾åˆå§‹åŒ–å¤±è´¥:",o),console.error("é”™è¯¯å †æ ˆ:",o.stack)}else console.warn("è¯äº‘å›¾è·³è¿‡:",{wordCloudLoaded:x.value,wordCloudRef:!!k.value,containerExists:!!k.value,containerVisible:k.value?k.value.offsetWidth>0:!1});if(!b.value)console.warn("ç½‘ç»œå›¾å®¹å™¨æœªæ‰¾åˆ°ï¼Œè·³è¿‡ç½‘ç»œå›¾åˆå§‹åŒ–");else try{if(f=T(b.value,_()),!f){console.error("ç½‘ç»œå›¾åˆå§‹åŒ–å¤±è´¥");return}const o=Y();f.setOption(o)}catch(o){console.error("ç½‘ç»œå›¾åˆå§‹åŒ–å‡ºé”™:",o)}if(!I.value)console.warn("è¶‹åŠ¿å›¾å®¹å™¨æœªæ‰¾åˆ°ï¼Œè·³è¿‡è¶‹åŠ¿å›¾åˆå§‹åŒ–");else try{if(p=T(I.value,_()),!p){console.error("è¶‹åŠ¿å›¾åˆå§‹åŒ–å¤±è´¥");return}p.setOption(X())}catch(o){console.error("è¶‹åŠ¿å›¾åˆå§‹åŒ–å‡ºé”™:",o)}const P=()=>{r==null||r.resize(),i==null||i.resize(),s==null||s.resize(),f==null||f.resize(),p==null||p.resize()};window.addEventListener("resize",P)}catch(m){console.error("Error loading data:",m),F.value=m.message,B.value=!1}}),ne(()=>{r==null||r.dispose(),i==null||i.dispose(),s==null||s.dispose(),f==null||f.dispose(),p==null||p.dispose(),window.removeEventListener("resize",handleResize)}),(m,t)=>(O(),L("div",ue,[B.value?(O(),L("div",me,[...t[0]||(t[0]=[e("p",null,"æ­£åœ¨åŠ è½½æ•°æ®...",-1)])])):F.value?(O(),L("div",fe,[e("p",null,"åŠ è½½æ•°æ®æ—¶å‡ºé”™: "+D(F.value),1)])):(O(),L("div",ve,[e("div",pe,[e("div",he,[e("div",be,D(V.value.totalMembers),1),t[1]||(t[1]=e("div",{class:"stat-label"},"æ€»æˆå‘˜æ•°",-1))]),e("div",ge,[e("div",ye,D(V.value.totalDomains),1),t[2]||(t[2]=e("div",{class:"stat-label"},"ç ”ç©¶æ–¹å‘æ•°",-1))]),e("div",xe,[e("div",_e,D(V.value.avgDomainsPerMember),1),t[3]||(t[3]=e("div",{class:"stat-label"},"å¹³å‡æ–¹å‘æ•°/äºº",-1))]),e("div",we,[e("div",Se,D(V.value.mostPopularDomain),1),t[4]||(t[4]=e("div",{class:"stat-label"},"æœ€çƒ­é—¨æ–¹å‘",-1))])]),e("div",$e,[e("div",{ref_key:"pieRef",ref:z,class:"chart"},null,512)]),e("div",Ce,[e("div",{ref_key:"barRef",ref:W,class:"chart"},null,512)]),x.value?(O(),L("div",De,[e("div",{ref_key:"wordCloudRef",ref:k,class:"chart","data-chart-type":"wordcloud"},null,512)])):(O(),L("div",ke,[...t[5]||(t[5]=[e("div",{class:"loading"},[e("p",null,"è¯äº‘æ’ä»¶åŠ è½½ä¸­...")],-1)])])),e("div",Pe,[e("div",{ref_key:"networkRef",ref:b,class:"chart-large","data-chart-type":"network"},null,512)]),e("div",Le,[e("div",{ref_key:"trendRef",ref:I,class:"chart"},null,512)])]))]))}},ze=ee(Oe,[["__scopeId","data-v-b34efd09"]]),Me={class:"data-export"},Ee={class:"quick-stats"},je={class:"stat-grid"},Te={class:"stat-item"},Re={class:"stat-value"},We={class:"stat-item"},Ie={class:"stat-value"},Ae={class:"stat-item"},Ne={class:"stat-value"},Be={class:"stat-item"},Fe={class:"stat-value"},Ve={class:"domain-details"},He={class:"domain-list"},Ge={class:"domain-name"},Ue={class:"domain-stats"},Je={class:"count"},qe={class:"percentage"},Ke={class:"progress-bar"},Qe={class:"export-actions"},Ye={class:"action-buttons"},Xe=["disabled"],Ze=["disabled"],et=["disabled"],tt={key:0,class:"exporting-indicator"},ot={__name:"DataExport",setup(K){const x=$(!1),l=$([]),z=$({}),W=$(!0),k=async()=>{try{const a="/members-visualization/data/members.csv".replace(/\/+/g,"/"),r=await fetch(a);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=(await r.text()).trim().split(`
`),f=s[0].split(",").map(_=>_.replace(/"/g,"")),p=s.slice(1).map(_=>{const u=_.split(",").map(M=>M.replace(/"/g,"")),R={};return f.forEach((M,H)=>{R[M]=u[H]||""}),R.domain=R.domain?R.domain.split(";").map(M=>M.trim()).filter(M=>M):[],R});l.value=p;const C={};p.forEach(_=>{_.domain.forEach(u=>{u&&(C[u]=(C[u]||0)+1)})}),z.value=C}catch(d){console.error("DataExportæ•°æ®åŠ è½½å¤±è´¥:",d)}finally{W.value=!1}};oe(()=>{k()});const b=te(()=>{var s,f;const d=l.value.length,a=Object.keys(z.value).length,r=d>0?(l.value.reduce((p,C)=>p+C.domain.length,0)/d).toFixed(2):0,i=Object.entries(z.value).sort((p,C)=>C[1]-p[1]).map(([p,C])=>({domain:p,count:C,percentage:(C/d*100).toFixed(1)}));return{totalMembers:d,totalDomains:a,avgDomainsPerMember:r,domainStats:i,mostPopularDomain:((s=i[0])==null?void 0:s.domain)||"æš‚æ— ",leastPopularDomain:((f=i[i.length-1])==null?void 0:f.domain)||"æš‚æ— "}}),I=()=>{x.value=!0;try{const a=[["ID","å§“å","GitHubé“¾æ¥","ç ”ç©¶æ–¹å‘"].join(",")];l.value.forEach(f=>{const p=[f.id,`"${f.name}"`,`"${f.github}"`,`"${f.domain.join(";")}"`];a.push(p.join(","))});const r=a.join(`
`),i=new Blob(["\uFEFF"+r],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");if(s.download!==void 0){const f=URL.createObjectURL(i);s.setAttribute("href",f),s.setAttribute("download",`members_data_${new Date().toISOString().split("T")[0]}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}}catch(d){console.error("å¯¼å‡ºå¤±è´¥:",d),alert("å¯¼å‡ºå¤±è´¥ï¼Œè¯·é‡è¯•")}finally{x.value=!1}},B=()=>{x.value=!0;try{const d={exportDate:new Date().toISOString(),summary:{totalMembers:b.value.totalMembers,totalDomains:b.value.totalDomains,avgDomainsPerMember:parseFloat(b.value.avgDomainsPerMember),mostPopularDomain:b.value.mostPopularDomain,leastPopularDomain:b.value.leastPopularDomain},domainStatistics:b.value.domainStats,memberDetails:l.value.map(s=>({id:s.id,name:s.name,github:s.github,domains:s.domain,domainCount:s.domain.length}))},a=JSON.stringify(d,null,2),r=new Blob([a],{type:"application/json"}),i=document.createElement("a");if(i.download!==void 0){const s=URL.createObjectURL(r);i.setAttribute("href",s),i.setAttribute("download",`members_report_${new Date().toISOString().split("T")[0]}.json`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}catch(d){console.error("å¯¼å‡ºå¤±è´¥:",d),alert("å¯¼å‡ºå¤±è´¥ï¼Œè¯·é‡è¯•")}finally{x.value=!1}},F=async()=>{try{const d=`
ç»„ç»‡æˆå‘˜ç»Ÿè®¡æŠ¥å‘Š
ç”Ÿæˆæ—¶é—´: ${new Date().toLocaleString()}

åŸºæœ¬ç»Ÿè®¡:
- æ€»æˆå‘˜æ•°: ${b.value.totalMembers}
- ç ”ç©¶æ–¹å‘æ•°: ${b.value.totalDomains}
- å¹³å‡æ–¹å‘æ•°/äºº: ${b.value.avgDomainsPerMember}
- æœ€çƒ­é—¨æ–¹å‘: ${b.value.mostPopularDomain}

ç ”ç©¶æ–¹å‘åˆ†å¸ƒ:
${b.value.domainStats.map(a=>`- ${a.domain}: ${a.count}äºº (${a.percentage}%)`).join(`
`)}
    `.trim();await navigator.clipboard.writeText(d),alert("ç»Ÿè®¡æ•°æ®å·²å¤åˆ¶åˆ°å‰ªè´´æ¿")}catch(d){console.error("å¤åˆ¶å¤±è´¥:",d),alert("å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨é€‰æ‹©æ–‡æœ¬")}};return(d,a)=>(O(),L("div",Me,[a[9]||(a[9]=e("div",{class:"export-header"},[e("h3",null,"æ•°æ®å¯¼å‡ºä¸ç»Ÿè®¡"),e("p",null,"å¯¼å‡ºæˆå‘˜æ•°æ®å’Œç»Ÿè®¡æŠ¥å‘Š")],-1)),e("div",Ee,[e("div",je,[e("div",Te,[e("div",Re,D(b.value.totalMembers),1),a[0]||(a[0]=e("div",{class:"stat-label"},"æ€»æˆå‘˜æ•°",-1))]),e("div",We,[e("div",Ie,D(b.value.totalDomains),1),a[1]||(a[1]=e("div",{class:"stat-label"},"ç ”ç©¶æ–¹å‘æ•°",-1))]),e("div",Ae,[e("div",Ne,D(b.value.avgDomainsPerMember),1),a[2]||(a[2]=e("div",{class:"stat-label"},"å¹³å‡æ–¹å‘æ•°/äºº",-1))]),e("div",Be,[e("div",Fe,D(b.value.mostPopularDomain),1),a[3]||(a[3]=e("div",{class:"stat-label"},"æœ€çƒ­é—¨æ–¹å‘",-1))])])]),e("div",Ve,[a[4]||(a[4]=e("h4",null,"ç ”ç©¶æ–¹å‘è¯¦ç»†ç»Ÿè®¡",-1)),e("div",He,[(O(!0),L(le,null,re(b.value.domainStats,r=>(O(),L("div",{key:r.domain,class:"domain-item"},[e("div",Ge,D(r.domain),1),e("div",Ue,[e("span",Je,D(r.count)+" äºº",1),e("span",qe,D(r.percentage)+"%",1)]),e("div",Ke,[e("div",{class:"progress-fill",style:ie({width:r.percentage+"%"})},null,4)])]))),128))])]),e("div",Qe,[a[8]||(a[8]=e("h4",null,"å¯¼å‡ºé€‰é¡¹",-1)),e("div",Ye,[e("button",{onClick:I,disabled:x.value,class:"export-btn csv-btn"},[...a[5]||(a[5]=[e("span",{class:"btn-icon"},"ğŸ“Š",-1),N(" å¯¼å‡º CSV æ•°æ® ",-1)])],8,Xe),e("button",{onClick:B,disabled:x.value,class:"export-btn json-btn"},[...a[6]||(a[6]=[e("span",{class:"btn-icon"},"ğŸ“‹",-1),N(" å¯¼å‡ºç»Ÿè®¡æŠ¥å‘Š ",-1)])],8,Ze),e("button",{onClick:F,disabled:x.value,class:"export-btn copy-btn"},[...a[7]||(a[7]=[e("span",{class:"btn-icon"},"ğŸ“„",-1),N(" å¤åˆ¶ç»Ÿè®¡æ•°æ® ",-1)])],8,et)]),x.value?(O(),L("div",tt," æ­£åœ¨å¯¼å‡ºæ•°æ®... ")):ce("",!0)])]))}},at=ee(ot,[["__scopeId","data-v-985a0daf"]]),st={style:{"margin-top":"4rem","padding-top":"2rem","border-top":"1px solid var(--vp-c-divider)"}},it=JSON.parse('{"title":"ğŸ“ˆ æ•°æ®ç»Ÿè®¡","description":"","frontmatter":{},"headers":[],"relativePath":"stats.md","filePath":"stats.md","lastUpdated":1758526535000}'),nt={name:"stats.md"},ct=Object.assign(nt,{setup(K){return(x,l)=>(O(),L("div",null,[l[0]||(l[0]=e("h1",{id:"ğŸ“ˆ-æ•°æ®ç»Ÿè®¡",tabindex:"-1"},[N("ğŸ“ˆ æ•°æ®ç»Ÿè®¡ "),e("a",{class:"header-anchor",href:"#ğŸ“ˆ-æ•°æ®ç»Ÿè®¡","aria-label":'Permalink to "ğŸ“ˆ æ•°æ®ç»Ÿè®¡"'},"â€‹")],-1)),l[1]||(l[1]=e("h2",{id:"ğŸ“Š-æ•°æ®æ¦‚è§ˆ",tabindex:"-1"},[N("ğŸ“Š æ•°æ®æ¦‚è§ˆ "),e("a",{class:"header-anchor",href:"#ğŸ“Š-æ•°æ®æ¦‚è§ˆ","aria-label":'Permalink to "ğŸ“Š æ•°æ®æ¦‚è§ˆ"'},"â€‹")],-1)),l[2]||(l[2]=e("p",null,"ä»¥ä¸‹å›¾è¡¨å±•ç¤ºäº†è´¡çŒ®è€…çš„ç ”ç©¶æ–¹å‘åˆ†å¸ƒæƒ…å†µï¼š",-1)),Z(ze),l[3]||(l[3]=e("h2",{id:"ğŸ“ˆ-æ•°æ®å¯¼å‡º",tabindex:"-1"},[N("ğŸ“ˆ æ•°æ®å¯¼å‡º "),e("a",{class:"header-anchor",href:"#ğŸ“ˆ-æ•°æ®å¯¼å‡º","aria-label":'Permalink to "ğŸ“ˆ æ•°æ®å¯¼å‡º"'},"â€‹")],-1)),e("div",st,[Z(at)])]))}});export{it as __pageData,ct as default};
