import"./chunks/Charts.vue_vue_type_style_index_0_scoped_b34efd09_lang.BiBfcChI.js";import{_ as F,p as f,v as V,c as r,o as i,j as e,e as y,t as d,F as q,B as C,h as N,ag as S,ah as I,ai as L,a as E,b as B,G as j,aj as U}from"./chunks/framework.Mlx6MwMA.js";const z={class:"member-card"},G={class:"member-header"},H={class:"avatar-container"},O=["src","alt"],W={key:1,class:"avatar-placeholder"},Q={class:"member-info"},J={class:"member-name"},R=["href"],K={key:0,class:"member-bio"},X={class:"member-domains"},Y={key:0,class:"github-stats"},Z={class:"stat-item"},ee={class:"stat-number"},se={class:"stat-item"},te={class:"stat-number"},ae={class:"stat-item"},le={class:"stat-number"},ie={class:"stat-item"},re={class:"stat-number"},ne={key:1,class:"recent-repos"},oe={class:"repo-list"},ue=["href"],de={__name:"MemberCard",props:{member:{type:Object,required:!0}},setup(b){const o=b,s=f(null),w=f(!0);f(null);const m=h=>h.avatar&&h.avatar.startsWith("avatars/")?`/members-visualization/${h.avatar}`.replace(/\/+/g,"/"):h.avatar||`https://github.com/${h.id}.png`,p=h=>{const l=h.name;return!l||l==="null"||l==="undefined"||l==="None"||l.trim()===""?h.id:l};return V(()=>{const h=p(o.member);s.value={login:o.member.id,avatar_url:m(o.member),html_url:o.member.github,name:h,bio:o.member.bio||"",location:o.member.location||"",company:o.member.company||"",public_repos:o.member.public_repos||0,followers:o.member.followers||0,following:o.member.following||0,totalStars:o.member.total_stars||0,repos:o.member.repositories||[]},w.value=!1}),(h,l)=>{var P,D,u,a,t,g,A;return i(),r("div",z,[e("div",G,[e("div",H,[(P=s.value)!=null&&P.avatar_url?(i(),r("img",{key:0,src:s.value.avatar_url,alt:((D=s.value)==null?void 0:D.name)||b.member.id,class:"avatar"},null,8,O)):(i(),r("div",W,d((((u=s.value)==null?void 0:u.name)||b.member.id).charAt(0)),1))]),e("div",Q,[e("h3",J,[e("a",{href:b.member.github,target:"_blank",rel:"noopener noreferrer"},d(((a=s.value)==null?void 0:a.name)||b.member.id),9,R)]),(t=s.value)!=null&&t.bio?(i(),r("p",K,d(s.value.bio),1)):y("",!0),e("div",X,[(i(!0),r(q,null,C(b.member.domain,v=>(i(),r("span",{key:v,class:"domain-tag"},d(v),1))),128))])])]),s.value?(i(),r("div",Y,[e("div",Z,[e("span",ee,d(s.value.public_repos||0),1),l[0]||(l[0]=e("span",{class:"stat-label"},"仓库",-1))]),e("div",se,[e("span",te,d(s.value.totalStars||0),1),l[1]||(l[1]=e("span",{class:"stat-label"},"总 Stars",-1))]),e("div",ae,[e("span",le,d(s.value.followers||0),1),l[2]||(l[2]=e("span",{class:"stat-label"},"关注者",-1))]),e("div",ie,[e("span",re,d(s.value.following||0),1),l[3]||(l[3]=e("span",{class:"stat-label"},"关注中",-1))])])):y("",!0),(A=(g=s.value)==null?void 0:g.repos)!=null&&A.length?(i(),r("div",ne,[l[5]||(l[5]=e("h4",null,"参与的组织仓库",-1)),e("div",oe,[(i(!0),r(q,null,C(s.value.repos.slice(0,5),v=>(i(),r("div",{key:v,class:"repo-item"},[e("a",{href:`https://github.com/datawhalechina/${v}`,target:"_blank",rel:"noopener noreferrer",class:"repo-name"},d(v),9,ue),l[4]||(l[4]=e("div",{class:"repo-meta"},[e("span",{class:"repo-org"},"datawhalechina")],-1))]))),128))])])):y("",!0)])}}},ce=F(de,[["__scopeId","data-v-ff051517"]]),he={class:"members-list"},me={class:"filters"},pe={class:"search-box"},ve={class:"filter-box"},be=["value"],_e={key:0,class:"results-info"},ke={key:0},fe={key:1},ge={key:1,class:"loading"},ye={key:2,class:"error"},we={key:3,class:"members-grid"},xe={key:4,class:"no-results"},De={__name:"MembersList",setup(b){const o=f([]),s=f(!0),w=f(null),m=f(""),p=f(""),h=N(()=>{const u=new Set;return o.value.forEach(a=>{a.domain.forEach(t=>u.add(t))}),Array.from(u).sort()}),l=N(()=>{let u=o.value;if(m.value.trim()){const a=m.value.toLowerCase().trim();u=u.filter(t=>(t.name&&t.name!=="null"&&t.name!=="undefined"&&t.name!=="None"&&t.name.trim()!==""?t.name:t.id).toLowerCase().includes(a)||t.id.toLowerCase().includes(a))}return p.value&&(u=u.filter(a=>a.domain.includes(p.value))),u}),P=async()=>{try{let u=function(x){const $=[];let n="",c=!1,_=0;for(;_<x.length;){const k=x[_];if(k==='"')if(c&&_+1<x.length&&x[_+1]==='"'){n+='"',_+=2;continue}else c=!c;else k===","&&!c?($.push(n.trim()),n=""):n+=k;_++}return $.push(n.trim()),$.map(k=>k.startsWith('"')&&k.endsWith('"')?k.slice(1,-1):k)};const t="/members-visualization/data/members.csv".replace(/\/+/g,"/"),g=await fetch(t);if(!g.ok)throw new Error(`HTTP error! status: ${g.status}`);const v=(await g.text()).trim().split(`
`),M=u(v[0]),T=v.slice(1).map(x=>{const $=u(x),n={};return M.forEach((c,_)=>{n[c]=$[_]||""}),n.domain=n.domain?n.domain.split(";").map(c=>c.trim()).filter(c=>c):[],n.repositories=n.repositories?n.repositories.split(";").map(c=>c.trim()).filter(c=>c):[],n.public_repos=parseInt(n.public_repos)||0,n.total_stars=parseInt(n.total_stars)||0,n.followers=parseInt(n.followers)||0,n.following=parseInt(n.following)||0,n});o.value=T,s.value=!1}catch(u){console.error("加载成员数据失败:",u),w.value=u.message,s.value=!1}},D=()=>{m.value="",p.value=""};return V(()=>{P()}),(u,a)=>(i(),r("div",he,[e("div",me,[e("div",pe,[S(e("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>m.value=t),type:"text",placeholder:"搜索成员姓名或ID...",class:"search-input"},null,512),[[I,m.value]]),a[2]||(a[2]=e("div",{class:"search-icon"},"🔍",-1))]),e("div",ve,[S(e("select",{"onUpdate:modelValue":a[1]||(a[1]=t=>p.value=t),class:"domain-select"},[a[3]||(a[3]=e("option",{value:""},"所有研究方向",-1)),(i(!0),r(q,null,C(h.value,t=>(i(),r("option",{key:t,value:t},d(t),9,be))),128))],512),[[L,p.value]])]),m.value||p.value?(i(),r("button",{key:0,onClick:D,class:"clear-btn"}," 清除筛选 ")):y("",!0)]),!s.value&&!w.value?(i(),r("div",_e,[e("p",null,[a[4]||(a[4]=E(" 显示 ",-1)),e("strong",null,d(l.value.length),1),E(" / "+d(o.value.length)+" 个成员 ",1),p.value?(i(),r("span",ke,"（研究方向："+d(p.value)+"）",1)):y("",!0),m.value?(i(),r("span",fe,"（搜索："+d(m.value)+"）",1)):y("",!0)])])):y("",!0),s.value?(i(),r("div",ge,[...a[5]||(a[5]=[e("p",null,"正在加载成员数据...",-1)])])):w.value?(i(),r("div",ye,[e("p",null,"加载失败: "+d(w.value),1)])):l.value.length>0?(i(),r("div",we,[(i(!0),r(q,null,C(l.value,t=>(i(),B(ce,{key:t.id,member:t},null,8,["member"]))),128))])):(i(),r("div",xe,[a[6]||(a[6]=e("p",null,"没有找到匹配的成员",-1)),e("button",{onClick:D,class:"clear-btn"},"清除筛选条件")]))]))}},$e=F(De,[["__scopeId","data-v-cc0d27c8"]]),Ee=JSON.parse('{"title":"贡献者可视化","description":"","frontmatter":{},"headers":[],"relativePath":"members.md","filePath":"members.md","lastUpdated":1758526578000}'),Pe={name:"members.md"},Ae=Object.assign(Pe,{setup(b){return(o,s)=>(i(),r("div",null,[s[0]||(s[0]=e("h1",{id:"贡献者可视化",tabindex:"-1"},[E("贡献者可视化 "),e("a",{class:"header-anchor",href:"#贡献者可视化","aria-label":'Permalink to "贡献者可视化"'},"​")],-1)),s[1]||(s[1]=e("h2",{id:"成员详情",tabindex:"-1"},[E("成员详情 "),e("a",{class:"header-anchor",href:"#成员详情","aria-label":'Permalink to "成员详情"'},"​")],-1)),s[2]||(s[2]=e("p",null,"以下是所有贡献者的详细信息，包括 GitHub 数据和研究方向：",-1)),j($e),s[3]||(s[3]=U(`<h2 id="使用说明" tabindex="-1">使用说明 <a class="header-anchor" href="#使用说明" aria-label="Permalink to &quot;使用说明&quot;">​</a></h2><h3 id="饼图" tabindex="-1">饼图 <a class="header-anchor" href="#饼图" aria-label="Permalink to &quot;饼图&quot;">​</a></h3><ul><li>显示各研究方向的贡献者数量分布</li><li>鼠标悬停可查看具体数值和百分比</li><li>点击图例可隐藏/显示对应的数据</li></ul><h3 id="柱状图" tabindex="-1">柱状图 <a class="header-anchor" href="#柱状图" aria-label="Permalink to &quot;柱状图&quot;">​</a></h3><ul><li>按贡献者数量排序显示各研究方向</li><li>支持鼠标悬停查看详细数值</li><li>渐变色彩增强视觉效果</li></ul><h3 id="关系图" tabindex="-1">关系图 <a class="header-anchor" href="#关系图" aria-label="Permalink to &quot;关系图&quot;">​</a></h3><ul><li>绿色节点代表贡献者</li><li>蓝色节点代表研究方向</li><li>节点大小反映重要程度</li><li>支持拖拽和缩放操作</li><li>鼠标悬停可查看详细信息</li></ul><h2 id="数据更新" tabindex="-1">数据更新 <a class="header-anchor" href="#数据更新" aria-label="Permalink to &quot;数据更新&quot;">​</a></h2><p>数据文件会通过 GitHub Actions 自动更新：</p><ol><li>每日自动运行数据收集脚本</li><li>手动触发工作流也可以更新数据</li><li>数据直接保存到 <code>docs/public/data/</code> 目录供前端使用</li></ol><h2 id="示例数据格式" tabindex="-1">示例数据格式 <a class="header-anchor" href="#示例数据格式" aria-label="Permalink to &quot;示例数据格式&quot;">​</a></h2><div class="language-csv vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csv</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">id,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">name,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">github,</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">domain</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">user1,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">张三,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">https://github.com/user1,</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&quot;推荐系统;CV&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">user2,</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">李四,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">https://github.com/user2,</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">&quot;NLP&quot;</span></span></code></pre></div><hr>`,13)),e("p",null,[e("em",null,"数据最后更新时间："+d(new Date().toLocaleDateString("zh-CN")),1)])]))}});export{Ee as __pageData,Ae as default};
