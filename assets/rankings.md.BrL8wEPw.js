import{_ as E,h as S,c as l,o as n,j as e,t as r,e as f,n as P,F as N,B as O,N as G,p as C,b as F,a as B,q as X,P as K,v as Z,ag as W,ai as Q,ak as I,G as J,g as tt,aj as et}from"./chunks/framework.Mlx6MwMA.js";const st={class:"rank-badge"},at={key:0,class:"medal"},ot={key:1,class:"rank-number"},nt={class:"avatar-section"},lt=["src","alt"],it={key:1,class:"leaderboard-indicator"},rt={class:"member-info"},ct={class:"name-section"},dt={class:"member-name"},ut={class:"member-meta"},mt={key:0,class:"location"},ht={key:1,class:"company"},gt={key:0,class:"domains-section"},vt={class:"domains"},pt={class:"score-section"},bt={class:"score-value"},yt={class:"score-label"},_t={class:"detailed-stats"},ft={key:0,class:"stat-item"},kt={class:"stat-value"},$t={key:1,class:"stat-item"},wt={class:"stat-value"},Dt={key:2,class:"stat-item"},Ct={class:"stat-value"},xt={class:"actions-section"},St=["href","title"],Mt={__name:"LeaderboardItem",props:{member:{type:Object,required:!0},rank:{type:Number,required:!0},colorScheme:{type:String,default:"blue"},showTrend:{type:Boolean,default:!1},icon:{type:String,default:""},animationDelay:{type:Number,default:0}},setup(a){const p=a,b=S(()=>{const g=p.member.name;return g&&g!=="null"&&g!=="undefined"&&g!=="None"&&g.trim()!==""?g:p.member.id||"未知用户"}),d=g=>({1:"🥇",2:"🥈",3:"🥉"})[g]||g,x=g=>{const v="/members-visualization/",M=`${v}default-avatar.svg`.replace(/\/+/g,"/");return g?g.startsWith("avatars/")?`${v}${g}`.replace(/\/+/g,"/"):g.startsWith("http")?g:`${v}${g}`.replace(/\/+/g,"/"):M},$=g=>{const v="/members-visualization/";g.target.src=`${v}default-avatar.svg`.replace(/\/+/g,"/")},k=g=>g?g.split(";").map(v=>v.trim()).filter(v=>v):[],m=()=>{const g=["up","down","stable"];return g[Math.floor(Math.random()*g.length)]},D=()=>{const g=m();return{up:"📈",down:"📉",stable:"➡️"}[g]||"➡️"};return(g,v)=>(n(),l("div",{class:P(["leaderboard-item leaderboard-item-base",[`rank-${a.rank}`,`theme-${a.colorScheme}`]]),style:G({animationDelay:`${a.animationDelay}ms`})},[e("div",st,[a.rank<=3?(n(),l("span",at,r(d(a.rank)),1)):(n(),l("span",ot,r(a.rank),1))]),e("div",nt,[e("img",{src:x(a.member.avatar),alt:b.value,class:"avatar",onError:$},null,40,lt),a.showTrend?(n(),l("div",{key:0,class:P(["trend-indicator",m()])},r(D()),3)):a.icon?(n(),l("div",it,r(a.icon),1)):f("",!0)]),e("div",rt,[e("div",ct,[e("h4",dt,r(b.value),1),e("div",ut,[a.member.location?(n(),l("span",mt,"📍 "+r(a.member.location),1)):f("",!0),a.member.company?(n(),l("span",ht,"🏢 "+r(a.member.company),1)):f("",!0)])]),a.member.domain?(n(),l("div",gt,[e("div",vt,[(n(!0),l(N,null,O(k(a.member.domain),M=>(n(),l("span",{key:M,class:"domain-tag"},r(M),1))),128))])])):f("",!0)]),e("div",pt,[e("div",bt,r(Math.round(a.member.score||0)),1),e("div",yt,r(a.member.scoreDisplay||"分数"),1),e("div",_t,[a.member.followers?(n(),l("div",ft,[v[0]||(v[0]=e("span",{class:"stat-icon"},"👥",-1)),e("span",kt,r(a.member.followers),1)])):f("",!0),a.member.total_stars?(n(),l("div",$t,[v[1]||(v[1]=e("span",{class:"stat-icon"},"⭐",-1)),e("span",wt,r(a.member.total_stars),1)])):f("",!0),a.member.public_repos?(n(),l("div",Dt,[v[2]||(v[2]=e("span",{class:"stat-icon"},"📁",-1)),e("span",Ct,r(a.member.public_repos),1)])):f("",!0)])]),e("div",xt,[e("a",{href:a.member.github,target:"_blank",rel:"noopener noreferrer",class:"github-link",title:`访问 ${b.value} 的 GitHub`},[...v[3]||(v[3]=[e("svg",{class:"github-icon",viewBox:"0 0 24 24",width:"16",height:"16"},[e("path",{fill:"currentColor",d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})],-1)])],8,St)])],6))}},Pt=E(Mt,[["__scopeId","data-v-5f28a9fa"]]),Nt={class:"card-header card-header-base"},Ot={class:"title-section title-section-base"},Tt={class:"icon icon-base"},Ht={class:"title title-base"},Vt={class:"description description-base"},qt={class:"stats-badge"},zt={class:"count"},jt={class:"leaderboard-content"},Rt={key:0,class:"empty-state"},Bt={key:1,class:"members-list"},At={class:"card-footer"},Et={class:"ranking-info"},Lt={key:0},Gt={key:1},Ut={__name:"LeaderboardCard",props:{title:{type:String,required:!0},description:{type:String,required:!0},icon:{type:String,default:"🏆"},members:{type:Array,default:()=>[]},colorScheme:{type:String,default:"blue",validator:a=>["fire","blue","green","purple","gold"].includes(a)},showTrend:{type:Boolean,default:!1}},setup(a){const p=a,b=C(!1),d=S(()=>b.value?p.members:p.members.slice(0,5)),x=()=>{b.value=!b.value};return($,k)=>{var m,D,g;return n(),l("div",{class:P(["leaderboard-card leaderboard-card-base",`theme-${a.colorScheme}`])},[e("div",Nt,[e("div",Ot,[e("span",Tt,r(a.icon),1),e("div",null,[e("h3",Ht,r(a.title),1),e("p",Vt,r(a.description),1)])]),e("div",qt,[e("span",zt,r(a.members.length),1),k[0]||(k[0]=e("span",{class:"label"},"人上榜",-1))])]),e("div",jt,[a.members.length===0?(n(),l("div",Rt,[...k[1]||(k[1]=[e("p",null,"暂无符合条件的成员",-1)])])):(n(),l("div",Bt,[(n(!0),l(N,null,O(d.value,(v,M)=>(n(),F(Pt,{key:v.id,member:v,rank:v.rank,"color-scheme":a.colorScheme,"show-trend":a.showTrend,icon:a.icon,"animation-delay":M*100},null,8,["member","rank","color-scheme","show-trend","icon","animation-delay"]))),128))]))]),e("div",At,[e("div",Et,[a.members.length>0?(n(),l("span",Lt," 冠军："+r(((m=a.members[0])==null?void 0:m.name)||((D=a.members[0])==null?void 0:D.id)),1)):f("",!0),a.members.length>1?(n(),l("span",Gt," 最高分："+r(Math.round(((g=a.members[0])==null?void 0:g.score)||0)),1)):f("",!0)]),a.members.length>5?(n(),l("button",{key:0,onClick:x,class:"expand-btn"},[B(r(b.value?"收起":"查看更多")+" ",1),e("span",{class:P(["arrow",{expanded:b.value}])},"▼",2)])):f("",!0)])],2)}}},Ft=E(Ut,[["__scopeId","data-v-6e65b0db"]]),Wt={class:"rank-badge"},Jt={key:0,class:"medal"},Zt={key:1,class:"rank-number"},Yt={class:"avatar-section"},Qt=["src","alt"],Xt={class:"member-info"},Kt={class:"name-section"},It={class:"member-name"},te={class:"member-meta"},ee={key:0,class:"location"},se={key:1,class:"company"},ae={key:0,class:"domains-section"},oe={class:"domains"},ne={class:"daily-chart-section"},le={class:"daily-chart"},ie=["title"],re={key:0,class:"bar-fill"},ce={class:"score-section"},de={class:"score-value"},ue={class:"score-label"},me={class:"detailed-stats"},he={key:0,class:"stat-item"},ge={class:"stat-value"},ve={key:1,class:"stat-item"},pe={class:"stat-value"},be={key:2,class:"stat-item"},ye={class:"stat-value"},_e={class:"popup-header"},fe={class:"popup-content"},ke={class:"top-sections"},$e={class:"detail-section stats-section"},we={key:0,class:"detail-section repos-section"},De={class:"repo-tags"},Ce=["href","title"],xe={key:0,class:"detail-section"},Se={class:"commit-messages"},Me=["href","title"],Pe={class:"commit-text"},Ne={class:"commit-meta"},Oe={class:"repo-link"},Te={class:"actions-section"},He=["href"],Ve={__name:"WeeklyCommitItem",props:{member:{type:Object,required:!0},rank:{type:Number,required:!0},animationDelay:{type:Number,default:0},showDetails:{type:Boolean,default:!1}},emits:["toggle-details"],setup(a,{emit:p}){const b=s=>s?s.split(";").map(t=>t.trim()).filter(Boolean):[],d=a,x=s=>{s.target.closest&&(s.target.closest(".github-link")||s.target.closest(".details-popup"))||$("toggle-details",d.member.user_key)},$=p,k=C(null),m=C(null),D=C("bottom"),g=async()=>{if(!d.showDetails||(await K(),!m.value))return;const s=m.value.closest(".leaderboard-content")||m.value.closest(".commits-list")||m.value.closest(".weekly-commits-card");if(!s){D.value="bottom";return}const t=s.querySelectorAll(".weekly-commit-item"),o=Array.from(t).indexOf(m.value),u=t.length;if(o>=u-2){D.value="top";return}const w=m.value.getBoundingClientRect(),y=s.getBoundingClientRect(),R=320,V=20,A=y.bottom-w.bottom,L=w.top-y.top;A<R+V&&L>R+V?D.value="top":D.value="bottom"};X(()=>d.showDetails,s=>{s&&g()});const v=S(()=>{const s=d.member.name;return s&&s!=="null"&&s!=="undefined"&&s!=="None"&&s.trim()!==""?s:d.member.id?d.member.id:d.member.display_name||d.member.user_key||"未知用户"}),M=s=>{const t=s.getFullYear(),o=String(s.getMonth()+1).padStart(2,"0"),u=String(s.getDate()).padStart(2,"0");return`${t}-${o}-${u}`},q=S(()=>{const s=d.member.daily_commits?Object.keys(d.member.daily_commits):[];let t=new Date;if(s.length){const u=s.map(w=>new Date(w)).filter(w=>!isNaN(w));u.length&&(t=u.sort((w,y)=>w-y)[u.length-1])}const o=[];for(let u=6;u>=0;u--){const w=new Date(t);w.setDate(w.getDate()-u),o.push(M(w))}return o}),H=S(()=>{const s=d.member.daily_commits||{};return q.value.map(t=>{const o=Object.prototype.hasOwnProperty.call(s,t),u=o&&s[t]||0;return{date:t,count:u,hasData:o}})}),z=S(()=>{const s=[],t=d.member.total_commits,o=d.member.repo_count,u=d.member.active_days;return typeof t=="number"&&s.push(`${t} 次`),typeof o=="number"&&s.push(`${o} 仓库`),typeof u=="number"&&s.push(`${u} 天`),s.join(" • ")}),T=s=>({1:"🥇",2:"🥈",3:"🥉"})[s]||s,j=s=>{const t="/members-visualization/",o=`${t}default-avatar.svg`.replace(/\/+/g,"/");return s?s.startsWith("avatars/")?`${t}${s}`.replace(/\/+/g,"/"):s.startsWith("http")?s:`${t}${s}`.replace(/\/+/g,"/"):o},c=s=>{const t="/members-visualization/";s.target.src=`${t}default-avatar.svg`.replace(/\/+/g,"/")},i=s=>{const t=H.value.filter(u=>u.hasData).map(u=>u.count),o=t.length?Math.max(...t):0;return o>0?s/o*100:0},h=()=>{const s=d.member.avg_commits_per_day||0,t=d.member.active_days||0;return s>=3&&t>=5?"up":s>=2&&t>=3?"stable":"down"},_=()=>{const s=h();return{up:"📈",stable:"➡️",down:"📉"}[s]||"➡️"};return(s,t)=>{var o,u,w;return n(),l("div",{ref_key:"itemRef",ref:m,class:P(["weekly-commit-item leaderboard-item-base",[`rank-${a.rank}`,{"is-expanded":d.showDetails}]]),style:G({animationDelay:`${a.animationDelay}ms`}),onClick:x},[e("div",Wt,[a.rank<=3?(n(),l("span",Jt,r(T(a.rank)),1)):(n(),l("span",Zt,r(a.rank),1))]),e("div",Yt,[e("img",{src:j(a.member.avatar),alt:v.value,class:"avatar",onError:c},null,40,Qt),t[1]||(t[1]=e("div",{class:"fire-indicator"},"🔥",-1))]),e("div",Xt,[e("div",Kt,[e("h4",It,r(v.value),1),e("div",te,[a.member.location?(n(),l("span",ee,"📍 "+r(a.member.location),1)):f("",!0),a.member.company?(n(),l("span",se,"🏢 "+r(a.member.company),1)):f("",!0)])]),a.member.domain?(n(),l("div",ae,[e("div",oe,[(n(!0),l(N,null,O(b(a.member.domain),y=>(n(),l("span",{key:y,class:"domain-tag"},r(y),1))),128))])])):f("",!0)]),e("div",ne,[t[2]||(t[2]=e("div",{class:"chart-title"},"每日分布",-1)),e("div",le,[(n(!0),l(N,null,O(H.value,y=>(n(),l("div",{key:y.date,class:P(y.hasData?"day-bar":"day-dash"),style:G(y.hasData?{height:`${i(y.count)}%`}:{}),title:y.hasData?`${y.date}: ${y.count} commits`:`${y.date}: 无数据`},[y.hasData?(n(),l("div",re)):f("",!0)],14,ie))),128))])]),e("div",ce,[e("div",de,r(a.member.score),1),e("div",ue,r(z.value),1),e("div",me,[a.member.followers?(n(),l("div",he,[t[3]||(t[3]=e("span",{class:"stat-icon"},"👥",-1)),e("span",ge,r(a.member.followers),1)])):f("",!0),a.member.total_stars?(n(),l("div",ve,[t[4]||(t[4]=e("span",{class:"stat-icon"},"⭐",-1)),e("span",pe,r(a.member.total_stars),1)])):f("",!0),a.member.public_repos?(n(),l("div",be,[t[5]||(t[5]=e("span",{class:"stat-icon"},"📁",-1)),e("span",ye,r(a.member.public_repos),1)])):f("",!0)]),e("div",{class:P(["trend-indicator",h()])},r(_()),3)]),d.showDetails?(n(),l("div",{key:0,ref_key:"popupRef",ref:k,class:P(["details-popup",`popup-${D.value}`])},[e("div",_e,[e("h5",null,r(v.value)+" 的本周战绩",1),e("button",{onClick:t[0]||(t[0]=y=>$("toggle-details",d.member.user_key)),class:"close-btn"},"×")]),e("div",fe,[e("div",ke,[e("div",$e,[t[6]||(t[6]=e("h6",null,"📊 统计概览",-1)),e("ul",null,[e("li",null,"总commit数："+r(a.member.total_commits),1),e("li",null,"参与仓库："+r(a.member.repo_count)+" 个",1),e("li",null,"活跃天数："+r(a.member.active_days)+" 天",1),e("li",null,"平均每日："+r((o=a.member.avg_commits_per_day)==null?void 0:o.toFixed(1))+" commits",1)])]),(u=a.member.repos)!=null&&u.length?(n(),l("div",we,[t[8]||(t[8]=e("h6",null,"📁 主要仓库",-1)),e("div",De,[(n(!0),l(N,null,O(a.member.repos.slice(0,5),y=>(n(),l("a",{key:y,href:`https://github.com/datawhalechina/${y}`,target:"_blank",rel:"noopener noreferrer",class:"repo-tag repo-link-tag",title:`访问仓库: ${y}`},[B(r(y)+" ",1),t[7]||(t[7]=e("svg",{class:"external-link-icon",viewBox:"0 0 24 24",width:"10",height:"10"},[e("path",{fill:"currentColor",d:"M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z"})],-1))],8,Ce))),128))])])):f("",!0)]),(w=a.member.commit_messages)!=null&&w.length?(n(),l("div",xe,[t[10]||(t[10]=e("h6",null,"💬 最近提交",-1)),e("div",Se,[(n(!0),l(N,null,O(a.member.commit_messages.slice(0,3),y=>(n(),l("div",{key:y.url,class:"commit-message"},[e("a",{href:y.url,target:"_blank",rel:"noopener noreferrer",class:"commit-link",title:`查看提交详情: ${y.message}`},[e("div",Pe,r(y.message),1),e("div",Ne,[e("span",Oe,r(y.repo),1),B(" • "+r(y.date)+" ",1),t[9]||(t[9]=e("svg",{class:"external-link-icon",viewBox:"0 0 24 24",width:"12",height:"12"},[e("path",{fill:"currentColor",d:"M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z"})],-1))])],8,Me)]))),128))])])):f("",!0)])],2)):f("",!0),e("div",Te,[a.member.github_username?(n(),l("a",{key:0,href:`https://github.com/${a.member.github_username}`,target:"_blank",rel:"noopener noreferrer",class:"github-link",title:"访问GitHub"},[...t[11]||(t[11]=[e("svg",{class:"github-icon",viewBox:"0 0 24 24",width:"16",height:"16"},[e("path",{fill:"currentColor",d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})],-1)])],8,He)):f("",!0)]),t[12]||(t[12]=e("div",{class:"click-overlay","aria-hidden":"true"},null,-1))],6)}}},qe=E(Ve,[["__scopeId","data-v-1543a12a"]]);function ze(a){const p=new Set;return a.forEach(b=>{b.id&&b.id.trim()&&p.add(b.id.trim())}),p}async function je(a="/data/datawhale_member.json"){try{console.log(`Loading organization members from: ${a}`);const p=await fetch(a);if(!p.ok)throw new Error(`Failed to fetch json: ${p.status}`);const b=await p.json(),d=ze(b);return console.log(`Loaded ${d.size} organization members from JSON`),d}catch(p){return console.error("Error loading organization members:",p),new Set}}function Y(a,p){return!a||!p?!1:p.has(a)}const Re={class:"card-header card-header-base"},Be={class:"stats-badge"},Ae={class:"count"},Ee={class:"update-info-section"},Le={class:"time-info"},Ge={class:"update-time"},Ue={class:"leaderboard-content"},Fe={key:0,class:"loading-state"},We={key:1,class:"error-state"},Je={key:2,class:"empty-state"},Ze={key:0},Ye={key:1},Qe={key:2,class:"empty-hint"},Xe={key:3,class:"empty-hint"},Ke={key:3,class:"commits-list"},Ie={key:0,class:"card-footer"},ts={class:"ranking-info"},es={__name:"WeeklyCommitsCard",props:{membersData:{type:Array,default:()=>[]},selectedDomain:{type:String,default:""},topCount:{type:Number,default:20},showOnlyOrgMembers:{type:Boolean,default:!1},organizationMembers:{type:Set,default:()=>new Set}},setup(a){const p=a,b=C(!0),d=C(null),x=C(null),$=C(!1),k=C(null),m=S(()=>{var h;if(!((h=x.value)!=null&&h.user_commits))return[];const c=[];for(const[_,s]of Object.entries(x.value.user_commits))if(s.total_commits>=1){const t=p.membersData.find(u=>u.id===_);if(p.showOnlyOrgMembers&&(!t||!Y(_,p.organizationMembers)))continue;const o={user_key:_,id:(t==null?void 0:t.id)||_,name:(t==null?void 0:t.name)||null,display_name:M(_,t),github_username:q(_),avatar:(t==null?void 0:t.avatar)||null,location:(t==null?void 0:t.location)||null,company:(t==null?void 0:t.company)||null,domain:(t==null?void 0:t.domain)||"",followers:(t==null?void 0:t.followers)??(t==null?void 0:t.followers_count)??0,total_stars:(t==null?void 0:t.total_stars)??(t==null?void 0:t.stars)??0,public_repos:(t==null?void 0:t.public_repos)??(t==null?void 0:t.repo_count)??0,...s,score:H(s)};p.selectedDomain?t&&t.domain&&t.domain.includes(p.selectedDomain)&&c.push(o):c.push(o)}return c.sort((_,s)=>s.score-_.score).slice(0,p.topCount)}),D=S(()=>$.value?m.value:m.value.slice(0,5)),g=S(()=>m.value.reduce((c,i)=>c+i.total_commits,0)),v=S(()=>{var i;return(i=x.value)!=null&&i.update_time?new Date(x.value.update_time).toLocaleString("zh-CN"):"未知"}),M=(c,i)=>{if(i!=null&&i.name&&i.name!=="null"&&i.name!=="undefined"&&i.name!=="None"&&i.name.trim()!=="")return i.name;if(i!=null&&i.id)return i.id;if(!c.includes("@"))return c;const h=c.match(/^([^@]+)@/);return h?h[1]:c},q=c=>c.includes("@")?null:c,H=c=>{let i=0;i+=c.total_commits;const h=c.active_days||0;h>=7?i+=10:h>=5?i+=5:h>=3&&(i+=2);const _=c.repo_count||0;_>=5?i+=5:_>=3?i+=3:_>=2&&(i+=1);const s=c.avg_commits_per_day||0;return s>=5?i+=8:s>=3?i+=5:s>=2&&(i+=2),Math.round(i)},z=c=>{k.value===c?k.value=null:k.value=c},T=async()=>{try{b.value=!0,d.value=null;const i="/members-visualization/data/commits_weekly.json".replace(/\/+/g,"/"),h=await fetch(i);if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);x.value=await h.json()}catch(c){d.value=c.message,console.error("加载commit数据失败:",c)}finally{b.value=!1}},j=()=>{$.value=!$.value};return Z(()=>{T()}),(c,i)=>{var h;return n(),l("div",{class:P(["weekly-commits-card leaderboard-card-base","theme-fire"])},[e("div",Re,[i[1]||(i[1]=e("div",{class:"title-section title-section-base"},[e("span",{class:"icon icon-base animated-fire"},"🔥"),e("div",null,[e("h3",{class:"title title-base"},"一周卷王榜"),e("p",{class:"description description-base"},"基于最近7天commit活动的超级卷王排行")])],-1)),e("div",Be,[e("span",Ae,r(m.value.length),1),i[0]||(i[0]=e("span",{class:"label"},"大卷王",-1))])]),e("div",Ee,[e("div",Le,[i[2]||(i[2]=e("span",{class:"time-label"},"📅 最近7天活跃数据",-1)),e("span",Ge,r(v.value),1)])]),e("div",Ue,[b.value?(n(),l("div",Fe,[...i[3]||(i[3]=[e("div",{class:"loading-spinner"},null,-1),e("p",null,"正在加载commit数据...",-1)])])):d.value?(n(),l("div",We,[e("p",null,"❌ "+r(d.value),1),e("button",{onClick:T,class:"retry-btn"},"重试")])):m.value.length===0?(n(),l("div",Je,[i[4]||(i[4]=e("div",{class:"empty-icon"},"😴",-1)),a.showOnlyOrgMembers?(n(),l("p",Ze,"组织成员本周暂无commit活动")):(n(),l("p",Ye,"本周暂无commit活动")),a.showOnlyOrgMembers?(n(),l("p",Qe,"组织成员们快去写代码吧！")):(n(),l("p",Xe,"快去写代码吧！"))])):(n(),l("div",Ke,[(n(!0),l(N,null,O(D.value,(_,s)=>(n(),F(qe,{key:_.user_key,member:_,rank:s+1,"animation-delay":s*100,"show-details":k.value===_.user_key,onToggleDetails:z},null,8,["member","rank","animation-delay","show-details"]))),128))]))]),m.value.length>0?(n(),l("div",Ie,[e("div",ts,[e("span",null,"🏆 本周卷王："+r((h=m.value[0])==null?void 0:h.display_name),1),e("span",null,"📊 总commit数："+r(g.value),1)]),m.value.length>5?(n(),l("button",{key:0,onClick:j,class:"expand-btn"},[B(r($.value?"收起":"查看更多")+" ",1),e("span",{class:P(["arrow",{expanded:$.value}])},"▼",2)])):f("",!0)])):f("",!0)])}}},ss=E(es,[["__scopeId","data-v-e0fd796e"]]),as={class:"rank-badge"},os={key:0,class:"medal"},ns={key:1,class:"rank-number"},ls={class:"avatar-section"},is=["src","alt"],rs={class:"member-info"},cs={class:"name-section"},ds={class:"member-name"},us={class:"member-meta"},ms={key:0,class:"location"},hs={key:1,class:"company"},gs={key:0,class:"domains-section"},vs={class:"domains"},ps={class:"night-chart-section"},bs={class:"night-chart"},ys=["title"],_s={class:"score-section"},fs={class:"score-value night-score"},ks={class:"score-label"},$s={class:"detailed-stats"},ws={key:0,class:"stat-item"},Ds={class:"stat-value"},Cs={key:1,class:"stat-item"},xs={class:"stat-value"},Ss={key:2,class:"stat-item"},Ms={class:"stat-value"},Ps={class:"actions-section"},Ns=["href"],Os={class:"popup-header"},Ts={class:"popup-content"},Hs={class:"top-sections"},Vs={class:"detail-section stats-section"},qs={class:"detail-section analysis-section"},zs={class:"night-hours-detail"},js={class:"hour-label"},Rs={class:"hour-count"},Bs={key:0,class:"detail-section"},As={class:"commit-messages"},Es=["href","title"],Ls={class:"commit-text"},Gs={class:"commit-meta"},Us={class:"repo-link"},Fs={class:"night-time"},Ws={__name:"NightOwlItem",props:{member:{type:Object,required:!0},rank:{type:Number,required:!0},animationDelay:{type:Number,default:0},showDetails:{type:Boolean,default:!1}},emits:["toggle-details"],setup(a,{emit:p}){const b=s=>s?s.split(";").map(t=>t.trim()).filter(Boolean):[],d=a,x=p,$=s=>{s.target.closest&&(s.target.closest(".github-link")||s.target.closest(".details-popup"))||x("toggle-details",d.member.user_key)},k=C(null),m=C(null),D=C("bottom"),g=[22,23,0,1,2,3,4,5],v=S(()=>{const s=d.member.name;return s&&s!=="null"&&s!=="undefined"&&s!=="None"&&s.trim()!==""?s:d.member.id?d.member.id:d.member.display_name||d.member.user_key||"未知用户"}),M=S(()=>(d.member.commit_messages||[]).filter(s=>s.is_night_owl)),q=S(()=>{const s=[],t=d.member.night_owl_commits,o=d.member.night_owl_percentage;return typeof t=="number"&&s.push(`${t} 深夜`),typeof o=="number"&&s.push(`${o}%`),s.join(" • ")}),H=s=>({1:"🥇",2:"🥈",3:"🥉"})[s]||s,z=s=>{if(!s)return"/default-avatar.png";const t="/members-visualization/";return s.startsWith("http")?s:`${t}${s}`.replace(/\/+/g,"/")},T=s=>{s.target.src="/default-avatar.png"},j=s=>{const t=d.member.beijing_hourly_distribution[s]||0,o=Math.max(...g.map(u=>d.member.beijing_hourly_distribution[u]||0));return o>0?t/o*100:0},c=()=>{const s=d.member.night_owl_percentage||0;return s>=50?"trend-hot":s>=30?"trend-warm":"trend-cool"},i=()=>{const s=d.member.night_owl_percentage||0;return s>=50?"↗":s>=30?"→":"↘"},h=s=>`${s.toString().padStart(2,"0")}:00`,_=async()=>{if(!(!d.showDetails||!m.value)){await K();try{const s=m.value.closest(".commits-list");if(!s){D.value="bottom";return}const t=s.querySelectorAll(".night-owl-item"),o=Array.from(t).indexOf(m.value),u=t.length;if(o>=u-2){D.value="top";return}const w=m.value.getBoundingClientRect(),y=s.getBoundingClientRect(),R=320,V=20,A=y.bottom-w.bottom,L=w.top-y.top;A<R+V&&L>R+V?D.value="top":D.value="bottom"}catch(s){console.warn("弹窗定位计算失败:",s),D.value="bottom"}}};return X(()=>d.showDetails,s=>{s&&_()},{immediate:!0}),(s,t)=>(n(),l("div",{ref_key:"itemRef",ref:m,class:P(["night-owl-item leaderboard-item-base",[`rank-${a.rank}`,{"is-expanded":d.showDetails}]]),style:G({animationDelay:`${a.animationDelay}ms`}),onClick:$},[e("div",as,[a.rank<=3?(n(),l("span",os,r(H(a.rank)),1)):(n(),l("span",ns,r(a.rank),1))]),e("div",ls,[e("img",{src:z(a.member.avatar),alt:v.value,class:"avatar",onError:T},null,40,is),t[1]||(t[1]=e("div",{class:"moon-indicator"},"🌙",-1))]),e("div",rs,[e("div",cs,[e("h4",ds,r(v.value),1),e("div",us,[a.member.location?(n(),l("span",ms,"📍 "+r(a.member.location),1)):f("",!0),a.member.company?(n(),l("span",hs,"🏢 "+r(a.member.company),1)):f("",!0)])]),a.member.domain?(n(),l("div",gs,[e("div",vs,[(n(!0),l(N,null,O(b(a.member.domain),o=>(n(),l("span",{key:o,class:"domain-tag"},r(o),1))),128))])])):f("",!0)]),e("div",ps,[t[3]||(t[3]=e("div",{class:"chart-title"},"深夜分布",-1)),e("div",bs,[(n(),l(N,null,O(g,o=>e("div",{key:o,class:"hour-bar",style:G({height:`${j(o)}%`}),title:`${o}:00 - ${a.member.beijing_hourly_distribution[o]||0} commits`},[...t[2]||(t[2]=[e("div",{class:"bar-fill night-bar-fill"},null,-1)])],12,ys)),64))])]),e("div",_s,[e("div",fs,r(a.member.night_owl_score),1),e("div",ks,r(q.value),1),e("div",$s,[a.member.followers?(n(),l("div",ws,[t[4]||(t[4]=e("span",{class:"stat-icon"},"👥",-1)),e("span",Ds,r(a.member.followers),1)])):f("",!0),a.member.total_stars?(n(),l("div",Cs,[t[5]||(t[5]=e("span",{class:"stat-icon"},"⭐",-1)),e("span",xs,r(a.member.total_stars),1)])):f("",!0),a.member.public_repos?(n(),l("div",Ss,[t[6]||(t[6]=e("span",{class:"stat-icon"},"📁",-1)),e("span",Ms,r(a.member.public_repos),1)])):f("",!0)]),e("div",{class:P(["trend-indicator night-trend",c()])},r(i()),3)]),e("div",Ps,[a.member.github_username?(n(),l("a",{key:0,href:`https://github.com/${a.member.github_username}`,target:"_blank",rel:"noopener noreferrer",class:"github-link",title:"访问GitHub"},[...t[7]||(t[7]=[e("svg",{class:"github-icon",viewBox:"0 0 24 24",width:"16",height:"16"},[e("path",{fill:"currentColor",d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.30.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})],-1)])],8,Ns)):f("",!0)]),d.showDetails?(n(),l("div",{key:0,ref_key:"popupRef",ref:k,class:P(["details-popup night-popup",`popup-${D.value}`])},[e("div",Os,[e("h5",null,r(v.value)+" 的深夜战绩",1),e("button",{onClick:t[0]||(t[0]=o=>x("toggle-details",d.member.user_key)),class:"close-btn"},"×")]),e("div",Ts,[e("div",Hs,[e("div",Vs,[t[8]||(t[8]=e("h6",null,"🌙 深夜统计",-1)),e("ul",null,[e("li",null,"深夜commit："+r(a.member.night_owl_commits)+" 个",1),e("li",null,"深夜比例："+r(a.member.night_owl_percentage)+"%",1),e("li",null,"夜猫分数："+r(a.member.night_owl_score)+" 分",1),e("li",null,"活跃天数："+r(a.member.active_days)+" 天",1)])]),e("div",qs,[t[9]||(t[9]=e("h6",null,"📊 时段分析",-1)),e("div",zs,[(n(),l(N,null,O(g,o=>e("div",{key:o,class:"hour-detail"},[e("span",js,r(o)+":00",1),e("span",Rs,r(a.member.beijing_hourly_distribution[o]||0),1)])),64))])])]),M.value.length?(n(),l("div",Bs,[t[12]||(t[12]=e("h6",null,"🌃 深夜提交记录",-1)),e("div",As,[(n(!0),l(N,null,O(M.value.slice(0,3),o=>(n(),l("div",{key:o.url,class:"commit-message night-commit"},[e("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",class:"commit-link",title:`查看提交详情: ${o.message}`},[e("div",Ls,r(o.message),1),e("div",Gs,[e("span",Us,r(o.repo),1),t[10]||(t[10]=B(" • ",-1)),e("span",Fs,r(h(o.beijing_hour)),1),B(" • "+r(o.date)+" ",1),t[11]||(t[11]=e("svg",{class:"external-link-icon",viewBox:"0 0 24 24",width:"12",height:"12"},[e("path",{fill:"currentColor",d:"M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z"})],-1))])],8,Es)]))),128))])])):f("",!0)])],2)):f("",!0),t[13]||(t[13]=e("div",{class:"click-overlay","aria-hidden":"true"},null,-1))],6))}},Js=E(Ws,[["__scopeId","data-v-0cf7641f"]]),Zs={class:"card-header card-header-base"},Ys={class:"stats-badge"},Qs={class:"count"},Xs={class:"update-info-section"},Ks={class:"time-info"},Is={class:"update-time"},ta={class:"leaderboard-content"},ea={key:0,class:"loading-state"},sa={key:1,class:"error-state"},aa={key:2,class:"empty-state"},oa={key:0},na={key:1},la={key:2,class:"empty-hint"},ia={key:3,class:"empty-hint"},ra={key:3,class:"commits-list"},ca={key:0,class:"card-footer"},da={class:"ranking-info"},ua={__name:"NightOwlCard",props:{membersData:{type:Array,default:()=>[]},selectedDomain:{type:String,default:""},topCount:{type:Number,default:20},showOnlyOrgMembers:{type:Boolean,default:!1},organizationMembers:{type:Set,default:()=>new Set}},setup(a){const p=a,b=C(!1),d=C(null),x=C(null),$=C(null),k=C(!1),m=S(()=>{var i;if(!((i=x.value)!=null&&i.user_commits))return[];const c=[];for(const[h,_]of Object.entries(x.value.user_commits))if(_.night_owl_commits>=1){const s=p.membersData.find(o=>o.id===h);if(p.showOnlyOrgMembers&&(!s||!Y(h,p.organizationMembers)))continue;const t={user_key:h,id:(s==null?void 0:s.id)||h,name:(s==null?void 0:s.name)||null,display_name:M(h,s),github_username:q(h),avatar:(s==null?void 0:s.avatar)||null,location:(s==null?void 0:s.location)||null,company:(s==null?void 0:s.company)||null,domain:(s==null?void 0:s.domain)||"",followers:(s==null?void 0:s.followers)??(s==null?void 0:s.followers_count)??0,total_stars:(s==null?void 0:s.total_stars)??(s==null?void 0:s.stars)??0,public_repos:(s==null?void 0:s.public_repos)??(s==null?void 0:s.repo_count)??0,..._,night_owl_score:H(_)};p.selectedDomain?s&&s.domain&&s.domain.includes(p.selectedDomain)&&c.push(t):c.push(t)}return c.sort((h,_)=>_.night_owl_score-h.night_owl_score)}),D=S(()=>{const c=k.value?p.topCount:Math.min(5,p.topCount);return m.value.slice(0,c)}),g=S(()=>m.value.reduce((c,i)=>c+i.night_owl_commits,0)),v=S(()=>{var c;if(!((c=x.value)!=null&&c.update_time))return"未知";try{return new Date(x.value.update_time).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return"未知"}}),M=(c,i)=>i!=null&&i.name&&i.name!=="null"&&i.name!=="undefined"&&i.name!=="None"&&i.name.trim()!==""?i.name:i!=null&&i.id?i.id:c.includes("@")?c.split("@")[0]:c,q=c=>c.includes("@")?c.split("@")[0]:c,H=c=>{let i=0;i+=c.night_owl_commits*2;const h=c.night_owl_percentage||0;h>=50?i+=10:h>=30?i+=5:h>=20&&(i+=2);const _=c.active_days||0;_>=5?i+=8:_>=3&&(i+=4);const s=c.repo_count||0;return s>=3?i+=3:s>=2&&(i+=1),Math.round(i)},z=c=>{$.value===c?$.value=null:$.value=c},T=async()=>{try{b.value=!0,d.value=null;const i="/members-visualization/data/commits_weekly.json".replace(/\/+/g,"/"),h=await fetch(i);if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);x.value=await h.json()}catch(c){d.value=c.message,console.error("加载commit数据失败:",c)}finally{b.value=!1}},j=()=>{k.value=!k.value};return Z(()=>{T()}),(c,i)=>{var h;return n(),l("div",{class:P(["night-owl-card leaderboard-card-base","theme-night"])},[e("div",Zs,[i[1]||(i[1]=e("div",{class:"title-section title-section-base"},[e("span",{class:"icon icon-base animated-moon"},"🌙"),e("div",null,[e("h3",{class:"title title-base"},"夜猫榜"),e("p",{class:"description description-base"},"深夜时段（22:00-06:00）代码提交活跃度排行")])],-1)),e("div",Ys,[e("span",Qs,r(m.value.length),1),i[0]||(i[0]=e("span",{class:"label"},"夜猫子",-1))])]),e("div",Xs,[e("div",Ks,[i[2]||(i[2]=e("span",{class:"time-label"},"🌃 最近7天深夜活动数据",-1)),e("span",Is,r(v.value),1)])]),e("div",ta,[b.value?(n(),l("div",ea,[...i[3]||(i[3]=[e("div",{class:"loading-spinner"},null,-1),e("p",null,"正在加载夜猫数据...",-1)])])):d.value?(n(),l("div",sa,[e("p",null,"❌ "+r(d.value),1),e("button",{onClick:T,class:"retry-btn"},"重试")])):m.value.length===0?(n(),l("div",aa,[i[4]||(i[4]=e("div",{class:"empty-icon"},"😴",-1)),a.showOnlyOrgMembers?(n(),l("p",oa,"组织成员本周暂无深夜提交活动")):(n(),l("p",na,"本周暂无深夜提交活动")),a.showOnlyOrgMembers?(n(),l("p",la,"组织成员们早睡早起身体好！")):(n(),l("p",ia,"早睡早起身体好！"))])):(n(),l("div",ra,[(n(!0),l(N,null,O(D.value,(_,s)=>(n(),F(Js,{key:_.user_key,member:_,rank:s+1,"animation-delay":s*100,"show-details":$.value===_.user_key,onToggleDetails:z},null,8,["member","rank","animation-delay","show-details"]))),128))]))]),m.value.length>0?(n(),l("div",ca,[e("div",da,[e("span",null,"夜猫王："+r((h=m.value[0])==null?void 0:h.display_name),1),e("span",null,"总深夜commit数："+r(g.value),1)]),m.value.length>5?(n(),l("button",{key:0,onClick:j,class:"expand-btn"},[B(r(k.value?"收起":"查看更多")+" ",1),e("span",{class:P(["arrow",{expanded:k.value}])},"▼",2)])):f("",!0)])):f("",!0)])}}},ma=E(ua,[["__scopeId","data-v-76718128"]]),ha={class:"rankings-container"},ga={key:0,class:"loading-state"},va={key:1,class:"error-state"},pa={key:2,class:"rankings-content"},ba={class:"filters-section"},ya={class:"filter-group"},_a=["value"],fa={class:"filter-group"},ka={class:"filter-group checkbox-group"},$a={class:"checkbox-label"},wa={class:"weekly-commits-section"},Da={class:"night-owl-section"},Ca={class:"leaderboards-grid"},xa={class:"update-info"},Sa={__name:"Rankings",setup(a){const p=C(!0),b=C(null),d=C([]),x=C(null),$=C(""),k=C(20),m=C(!1),D=C(new Set),g=S(()=>{const t=new Set;return d.value.forEach(o=>{o.domain&&o.domain.split(";").forEach(u=>t.add(u.trim()))}),Array.from(t).sort()}),v=S(()=>{let t=d.value;return $.value&&(t=t.filter(o=>o.domain&&o.domain.includes($.value))),m.value&&(t=t.filter(o=>Y(o.id,D.value)&&o.avatar&&o.id&&o.domain)),t}),M=S(()=>[{id:"popularity",title:"人气王榜",description:"综合 Followers 和 Stars 的人气排行",icon:"👑",colorScheme:"fire",showTrend:!1,data:z()},{id:"productive",title:"多产榜",description:"基于公开仓库数量的创作力排行",icon:"🏆",colorScheme:"blue",showTrend:!1,data:T()},{id:"social",title:"社交达人榜",description:"基于 Following 数量的社交活跃度排行",icon:"💬",colorScheme:"green",showTrend:!1,data:j()},{id:"rising",title:"新星榜",description:"综合活跃度指标的潜力新星排行",icon:"🌠",colorScheme:"purple",showTrend:!1,data:c()},{id:"comprehensive",title:"综合实力榜",description:"多维度综合评分的全能排行",icon:"🌟",colorScheme:"gold",showTrend:!1,data:i()}]),q=S(()=>{var t;return(t=x.value)!=null&&t.update_time?new Date(x.value.update_time).toLocaleString("zh-CN"):new Date().toLocaleString("zh-CN")}),H=S(()=>{const t=new Date;return t.setDate(t.getDate()+1),t.setHours(6,0,0,0),t.toLocaleString("zh-CN")});function z(){return v.value.map(t=>({...t,score:(t.followers||0)*.6+(t.total_stars||0)*.4,scoreDisplay:`${t.followers||0} followers + ${t.total_stars||0} stars`})).filter(t=>t.score>0).sort((t,o)=>o.score-t.score).slice(0,k.value).map((t,o)=>({...t,rank:o+1}))}function T(){return v.value.map(t=>({...t,score:t.public_repos||0,scoreDisplay:`${t.public_repos||0} 个仓库`})).filter(t=>t.score>=5).sort((t,o)=>o.score-t.score).slice(0,k.value).map((t,o)=>({...t,rank:o+1}))}function j(){return v.value.map(t=>({...t,score:t.following||0,scoreDisplay:`关注 ${t.following||0} 人`})).filter(t=>t.score>=10).sort((t,o)=>o.score-t.score).slice(0,k.value).map((t,o)=>({...t,rank:o+1}))}function c(){return v.value.map(t=>{const o=Math.max(t.public_repos||1,1),w=((t.followers||0)+(t.total_stars||0))/o*(o<20?1.5:1);return{...t,score:w,scoreDisplay:`活跃度 ${Math.round(w)}`}}).filter(t=>t.score>0).sort((t,o)=>o.score-t.score).slice(0,k.value).map((t,o)=>({...t,rank:o+1}))}function i(){return v.value.map(t=>{const o=(t.total_stars||0)*.3,u=(t.followers||0)*.25,w=(t.public_repos||0)*.2,y=(t.following||0)*.15,R=(t.repositories?t.repositories.split(";").length:0)*.1,V=o+u+w+y+R;return{...t,score:V,scoreDisplay:`综合分 ${Math.round(V)}`}}).filter(t=>t.score>0).sort((t,o)=>o.score-t.score).slice(0,k.value).map((t,o)=>({...t,rank:o+1}))}const h=async()=>{try{p.value=!0,b.value=null;const t="/members-visualization/",o=`${t}data/members.json`.replace(/\/+/g,"/"),u=`${t}data/commits_weekly.json`.replace(/\/+/g,"/"),[w,y]=await Promise.all([fetch(o),fetch(u)]);if(!w.ok)throw new Error(`HTTP error! status: ${w.status}`);const R=await w.json();d.value=R.map(A=>(Object.keys(A).forEach(L=>{let U=A[L]||"";typeof U=="string"&&(U=U.trim().replace(/^"|"$/g,"")),A[L]=U}),A)),y.ok&&(x.value=await y.json());const V=tt("/data/datawhale_member.json");D.value=await je(V)}catch(t){b.value=t.message,console.error("加载数据失败:",t)}finally{p.value=!1}},_=()=>{},s=()=>{$.value="",m.value=!1};return Z(()=>{h()}),(t,o)=>(n(),l("div",ha,[p.value?(n(),l("div",ga,[...o[3]||(o[3]=[e("div",{class:"loading-spinner"},null,-1),e("p",null,"正在加载榜单数据...",-1)])])):b.value?(n(),l("div",va,[e("p",null,"❌ 加载失败: "+r(b.value),1),e("button",{onClick:h,class:"retry-btn"},"重试")])):(n(),l("div",pa,[e("div",ba,[e("div",ya,[o[5]||(o[5]=e("label",null,"研究方向筛选：",-1)),W(e("select",{"onUpdate:modelValue":o[0]||(o[0]=u=>$.value=u),onChange:_},[o[4]||(o[4]=e("option",{value:""},"全部方向",-1)),(n(!0),l(N,null,O(g.value,u=>(n(),l("option",{key:u,value:u},r(u),9,_a))),128))],544),[[Q,$.value]])]),e("div",fa,[o[7]||(o[7]=e("label",null,"显示数量：",-1)),W(e("select",{"onUpdate:modelValue":o[1]||(o[1]=u=>k.value=u),onChange:_},[...o[6]||(o[6]=[e("option",{value:10},"Top 10",-1),e("option",{value:20},"Top 20",-1),e("option",{value:50},"Top 50",-1)])],544),[[Q,k.value]])]),e("div",ka,[e("label",$a,[W(e("input",{type:"checkbox","onUpdate:modelValue":o[2]||(o[2]=u=>m.value=u),onChange:_,class:"checkbox-input"},null,544),[[I,m.value]]),o[8]||(o[8]=e("span",{class:"checkbox-text"},"仅显示组织成员",-1))])]),$.value||m.value?(n(),l("button",{key:0,onClick:s,class:"clear-filters-btn"}," 清除筛选 ")):f("",!0)]),e("div",wa,[J(ss,{"members-data":d.value,"selected-domain":$.value,"top-count":k.value,"show-only-org-members":m.value,"organization-members":D.value},null,8,["members-data","selected-domain","top-count","show-only-org-members","organization-members"])]),e("div",Da,[J(ma,{"members-data":d.value,"selected-domain":$.value,"top-count":k.value,"show-only-org-members":m.value,"organization-members":D.value},null,8,["members-data","selected-domain","top-count","show-only-org-members","organization-members"])]),e("div",Ca,[(n(!0),l(N,null,O(M.value,u=>(n(),F(Ft,{key:u.id,title:u.title,description:u.description,icon:u.icon,members:u.data,"color-scheme":u.colorScheme,"show-trend":u.showTrend},null,8,["title","description","icon","members","color-scheme","show-trend"]))),128))]),e("div",xa,[e("p",null,"📅 数据最后更新时间："+r(q.value),1),e("p",null,"🔄 下次更新时间："+r(H.value),1)])]))]))}},Ma=E(Sa,[["__scopeId","data-v-8ab98721"]]),Oa=JSON.parse('{"title":"🏆 贡献者榜单","description":"","frontmatter":{},"headers":[],"relativePath":"rankings.md","filePath":"rankings.md","lastUpdated":1759944698000}'),Pa={name:"rankings.md"},Ta=Object.assign(Pa,{setup(a){return(p,b)=>(n(),l("div",null,[b[0]||(b[0]=e("h1",{id:"🏆-贡献者榜单",tabindex:"-1"},[B("🏆 贡献者榜单 "),e("a",{class:"header-anchor",href:"#🏆-贡献者榜单","aria-label":'Permalink to "🏆 贡献者榜单"'},"​")],-1)),b[1]||(b[1]=e("p",null,"欢迎来到 Datawhale 贡献者榜单页面！这里展示了基于 GitHub 数据的各种有趣排行榜，让我们一起看看谁是最闪亮的那颗星⭐",-1)),b[2]||(b[2]=e("h2",{id:"📊-实时榜单",tabindex:"-1"},[B("📊 实时榜单 "),e("a",{class:"header-anchor",href:"#📊-实时榜单","aria-label":'Permalink to "📊 实时榜单"'},"​")],-1)),J(Ma),b[3]||(b[3]=et('<h2 id="📋-榜单说明" tabindex="-1">📋 榜单说明 <a class="header-anchor" href="#📋-榜单说明" aria-label="Permalink to &quot;📋 榜单说明&quot;">​</a></h2><h3 id="🔥-一周卷王榜" tabindex="-1">🔥 一周卷王榜 <a class="header-anchor" href="#🔥-一周卷王榜" aria-label="Permalink to &quot;🔥 一周卷王榜&quot;">​</a></h3><p><strong>计算规则</strong>：基于最近7天的GitHub commit活动综合评分</p><ul><li><strong>基础分</strong>：每个commit = 1分</li><li><strong>连续性奖励</strong>：连续7天+10分，5天+5分，3天+2分</li><li><strong>多仓库奖励</strong>：参与5个以上仓库+5分</li><li><strong>质量奖励</strong>：平均每日5个以上commit+8分，2个以上+2分</li><li><strong>数据源</strong>：GitHub API实时获取</li><li><strong>上榜条件</strong>：至少1个commit</li><li><strong>更新频率</strong>：每日自动更新</li><li><strong>筛选支持</strong>：支持按研究方向和显示数量筛选</li></ul><h3 id="🌙-夜猫榜" tabindex="-1">🌙 夜猫榜 <a class="header-anchor" href="#🌙-夜猫榜" aria-label="Permalink to &quot;🌙 夜猫榜&quot;">​</a></h3><p><strong>计算规则</strong>：基于最近7天深夜时段（22:00-06:00）的GitHub commit活动评分</p><ul><li><strong>基础分</strong>：每个深夜commit = 2分（比普通commit更有价值）</li><li><strong>深夜比例奖励</strong>：深夜提交占比50%以上+10分，30%以上+5分，20%以上+2分</li><li><strong>连续性奖励</strong>：连续5天以上有深夜提交+8分，3天以上+4分</li><li><strong>多仓库奖励</strong>：深夜参与3个以上仓库+3分，2个以上+1分</li><li><strong>时区处理</strong>：自动转换UTC时间为北京时间进行统计</li><li><strong>数据源</strong>：GitHub API commit时间戳分析</li><li><strong>上榜条件</strong>：至少1个深夜commit</li><li><strong>更新频率</strong>：每日自动更新</li><li><strong>筛选支持</strong>：支持按研究方向和显示数量筛选</li></ul><h3 id="🏆-人气王榜" tabindex="-1">🏆 人气王榜 <a class="header-anchor" href="#🏆-人气王榜" aria-label="Permalink to &quot;🏆 人气王榜&quot;">​</a></h3><p><strong>计算规则</strong>：综合考虑 GitHub followers 和 total stars</p><ul><li><strong>权重分配</strong>：Followers × 0.6 + Stars × 0.4</li><li><strong>更新频率</strong>：每日更新</li><li><strong>上榜条件</strong>：至少拥有 10 个 followers 或 50 个 stars</li></ul><h3 id="💼-多产榜" tabindex="-1">💼 多产榜 <a class="header-anchor" href="#💼-多产榜" aria-label="Permalink to &quot;💼 多产榜&quot;">​</a></h3><p><strong>计算规则</strong>：基于公开仓库数量排名</p><ul><li><strong>评分标准</strong>：Public repositories 数量</li><li><strong>更新频率</strong>：每日更新</li><li><strong>上榜条件</strong>：至少拥有 5 个公开仓库</li></ul><h3 id="🤝-社交达人榜" tabindex="-1">🤝 社交达人榜 <a class="header-anchor" href="#🤝-社交达人榜" aria-label="Permalink to &quot;🤝 社交达人榜&quot;">​</a></h3><p><strong>计算规则</strong>：基于 GitHub following 数量</p><ul><li><strong>评分标准</strong>：Following 数量</li><li><strong>更新频率</strong>：每日更新</li><li><strong>上榜条件</strong>：至少关注 20 个用户</li></ul><h3 id="⭐-新星榜" tabindex="-1">⭐ 新星榜 <a class="header-anchor" href="#⭐-新星榜" aria-label="Permalink to &quot;⭐ 新星榜&quot;">​</a></h3><p><strong>计算规则</strong>：综合活跃度指标，适合新加入的贡献者</p><ul><li><strong>评分公式</strong>：(Followers + Stars) / max(Repositories, 1) × 活跃度系数</li><li><strong>活跃度系数</strong>：基于最近的仓库活动和社交互动</li><li><strong>更新频率</strong>：每日更新</li><li><strong>上榜条件</strong>：加入时间相对较短但表现活跃</li></ul><h3 id="🌟-综合实力榜" tabindex="-1">🌟 综合实力榜 <a class="header-anchor" href="#🌟-综合实力榜" aria-label="Permalink to &quot;🌟 综合实力榜&quot;">​</a></h3><p><strong>计算规则</strong>：多维度综合评分</p><ul><li><strong>评分维度</strong>： <ul><li>技术影响力：Stars × 0.3</li><li>社区影响力：Followers × 0.25</li><li>创作能力：Repositories × 0.2</li><li>社交活跃度：Following × 0.15</li><li>参与度：参与项目数 × 0.1</li></ul></li><li><strong>更新频率</strong>：每日更新</li></ul><h2 id="🎯-特色功能" tabindex="-1">🎯 特色功能 <a class="header-anchor" href="#🎯-特色功能" aria-label="Permalink to &quot;🎯 特色功能&quot;">​</a></h2><ul><li><strong>🔄 实时更新</strong>：数据每日自动更新，确保榜单的时效性</li><li><strong>📱 响应式设计</strong>：完美适配桌面端和移动端</li><li><strong>🎨 动画效果</strong>：流畅的排名变化动画和交互效果</li><li><strong>🔍 智能筛选</strong>：支持按研究方向、地区等条件筛选</li><li><strong>📈 趋势分析</strong>：显示排名变化趋势（即将推出）</li><li><strong>🏅 成就系统</strong>：特殊徽章和里程碑展示（即将推出）</li></ul><h2 id="📈-即将推出" tabindex="-1">📈 即将推出 <a class="header-anchor" href="#📈-即将推出" aria-label="Permalink to &quot;📈 即将推出&quot;">​</a></h2><p>我们正在开发更多有趣的榜单功能：</p><ul><li><strong>🌙 夜猫榜</strong>：统计深夜时段（22:00-06:00）的代码提交</li><li><strong>🚀 成长最快榜</strong>：基于followers和stars的增长速度</li><li><strong>🎯 专业榜单</strong>：按研究方向分类的专业排行榜</li><li><strong>🏆 月度MVP</strong>：每月最活跃贡献者</li><li><strong>📊 数据洞察</strong>：更详细的数据分析和可视化</li></ul><h2 id="💡-参与方式" tabindex="-1">💡 参与方式 <a class="header-anchor" href="#💡-参与方式" aria-label="Permalink to &quot;💡 参与方式&quot;">​</a></h2><p>想要在榜单中获得更好的排名？这里有一些建议：</p><ol><li><strong>保持活跃</strong>：定期更新你的GitHub仓库</li><li><strong>优质内容</strong>：创建有价值的开源项目</li><li><strong>社区参与</strong>：积极参与Datawhale的项目和讨论</li><li><strong>完善资料</strong>：保持GitHub个人资料的完整性</li><li><strong>技术分享</strong>：通过博客、演讲等方式分享技术经验</li></ol><hr><p><em>榜单数据来源于GitHub API，每日自动更新。如有疑问或建议，欢迎在项目仓库提出Issue。</em></p>',32))]))}});export{Oa as __pageData,Ta as default};
