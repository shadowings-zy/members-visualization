const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/index.CDjEh1uI.js","assets/chunks/index.BiBfcChI.js"])))=>i.map(i=>d[i]);
import{_ as Y,p as w,h as Q,v as X,P as I,V as ee,x as te,c as D,o as O,j as e,t as $,F as oe,B as ae,N as se,e as ne,a as j,G as K}from"./chunks/framework.Mlx6MwMA.js";import{i as P,L as le}from"./chunks/index.BiBfcChI.js";const re={class:"charts"},ie={key:0,class:"loading"},ce={key:1,class:"error"},de={key:2},ue={class:"stats-overview"},fe={class:"stat-card"},me={class:"stat-number"},ve={class:"stat-card"},pe={class:"stat-number"},be={class:"stat-card"},he={class:"stat-number"},ge={class:"stat-card"},ye={class:"stat-number"},xe={class:"chart-container"},_e={class:"chart-container"},we={key:0,class:"chart-container"},Se={key:1,class:"chart-container"},$e={class:"chart-container"},Ce={class:"chart-container"},De={__name:"Charts",setup(B){const y=w(!1),l=w(!1),k=w(null),L=w(null),C=w(null),h=w(null),z=w(null),E=w(!0),T=w(null),d=w([]),a=w({});let i=null,c=null,n=null,m=null,u=null;const x=()=>{typeof window<"u"&&(l.value=document.documentElement.classList.contains("dark"))},g=()=>l.value?"dark":"light",b=()=>l.value?{textColor:"#ffffff",backgroundColor:"#1a1a1a",axisLineColor:"#484848",splitLineColor:"#484848"}:{textColor:"#333333",backgroundColor:"#ffffff",axisLineColor:"#e0e0e0",splitLineColor:"#f0f0f0"},F=()=>{const p=Object.entries(a.value).sort((o,r)=>r[1]-o[1]).slice(0,10).map(([o,r])=>({name:o,value:r}));return{title:{text:"ç ”ç©¶æ–¹å‘åˆ†å¸ƒ",subtext:"æˆå‘˜ç ”ç©¶æ–¹å‘ç»Ÿè®¡",left:"center",textStyle:{fontSize:20,fontWeight:"bold",color:b().textColor},subtextStyle:{fontSize:14,color:l.value?"#cccccc":"#666666"}},tooltip:{trigger:"item",formatter:function(o){const r=o.percent,v=o.value;return`${o.seriesName}<br/>${o.name}: ${v} äºº (${r}%)`}},legend:{orient:"vertical",left:"left",top:"middle",itemGap:12,textStyle:{fontSize:12,color:b().textColor}},series:[{name:"ç ”ç©¶æ–¹å‘",type:"pie",radius:["40%","70%"],center:["60%","50%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:20,fontWeight:"bold"}},labelLine:{show:!1},data:p,animationType:"scale",animationEasing:"elasticOut",animationDelay:function(o){return Math.random()*200}}]}},H=()=>{const p=Object.entries(a.value).sort((o,r)=>r[1]-o[1]).slice(0,15);return{title:{text:"ç ”ç©¶æ–¹å‘ç»Ÿè®¡",subtext:`å¹³å‡æ¯äººæ¶‰åŠ ${R.value.avgDomainsPerMember} ä¸ªæ–¹å‘`,left:"center",textStyle:{fontSize:20,fontWeight:"bold",color:b().textColor},subtextStyle:{fontSize:14,color:l.value?"#cccccc":"#666666"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow",shadowStyle:{color:"rgba(0, 0, 0, 0.1)"}},formatter:function(o){const r=o[0],v=d.value.length,S=(r.value/v*100).toFixed(1);return`${r.name}<br/>æˆå‘˜æ•°é‡: ${r.value} äºº<br/>å æ¯”: ${S}%`}},grid:{left:"5%",right:"5%",bottom:"15%",top:"20%",containLabel:!0},xAxis:{type:"category",data:p.map(([o,r])=>o),axisLabel:{rotate:45,interval:0,fontSize:12,color:b().textColor},axisLine:{lineStyle:{color:b().axisLineColor}}},yAxis:{type:"value",name:"æˆå‘˜æ•°é‡",nameTextStyle:{color:b().textColor,fontSize:12},axisLabel:{color:b().textColor},axisLine:{lineStyle:{color:b().axisLineColor}},splitLine:{lineStyle:{color:b().splitLineColor}}},series:[{name:"æˆå‘˜æ•°é‡",type:"bar",barWidth:"60%",data:p.map(([o,r],v)=>({value:r,itemStyle:{color:new le(0,0,0,1,[{offset:0,color:`hsl(${v*30%360}, 70%, 60%)`},{offset:1,color:`hsl(${v*30%360}, 70%, 40%)`}])}})),animationDelay:function(o){return o*50}}]}},V=()=>{const p=Object.entries(a.value).filter(([o,r])=>o&&o.trim()&&r>0).sort((o,r)=>r[1]-o[1]).slice(0,30).map(([o,r],v)=>({name:o.trim(),value:r,textStyle:{fontSize:Math.max(14,Math.min(40,r*4+16)),color:J()[v%J().length]}}));return console.log("è¯äº‘æ•°æ®:",p),{title:{text:"ç ”ç©¶æ–¹å‘è¯äº‘",subtext:"å­—ä½“å¤§å°åæ˜ çƒ­é—¨ç¨‹åº¦",left:"center",textStyle:{fontSize:20,fontWeight:"bold",color:b().textColor},subtextStyle:{fontSize:14,color:l.value?"#cccccc":"#666666"}},tooltip:{formatter:function(o){return`${o.name}: ${o.value} äºº`},backgroundColor:l.value?"rgba(0, 0, 0, 0.8)":"rgba(255, 255, 255, 0.9)",borderColor:l.value?"#666":"#ccc",textStyle:{color:l.value?"#fff":"#333"}},backgroundColor:"transparent",series:[{type:"wordCloud",gridSize:4,sizeRange:[14,40],rotationRange:[-45,45],rotationStep:15,shape:"circle",left:"center",top:"center",width:"85%",height:"75%",right:null,bottom:null,drawOutOfBound:!1,layoutAnimation:!0,textStyle:{fontFamily:"Arial, Microsoft YaHei, sans-serif",fontWeight:"bold"},emphasis:{focus:"self",textStyle:{shadowBlur:8,shadowColor:l.value?"rgba(255, 255, 255, 0.5)":"rgba(0, 0, 0, 0.5)",textBorderColor:l.value?"#fff":"#000",textBorderWidth:1}},data:p}]}},J=()=>l.value?["#6b9bd2","#a5d86c","#ffcc5c","#ff7875","#87ceeb","#52c41a","#ff9c6e","#b37feb","#f759ab","#36cfc9","#ffc53d","#ff85c0","#95de64","#5cdbd3","#85a5ff"]:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc","#13c2c2","#faad14","#eb2f96","#52c41a","#1890ff","#722ed1"],G=()=>{const p=d.value.filter(t=>t&&t.name&&(t.id||t.name)),o=Object.keys(a.value).filter(t=>t&&t.trim()),r=new Set,v=p.map(t=>{const f=`member_${t.id||t.name}`;return r.has(f)?(console.warn(`é‡å¤çš„æˆå‘˜èŠ‚ç‚¹ID: ${f}`),null):(r.add(f),{id:f,name:t.name,category:0,symbolSize:Math.max(20,Math.min(50,Math.log2((t.domain&&Array.isArray(t.domain)?t.domain.length:1)+1)*15)),itemStyle:{color:"#5470c6"}})}).filter(Boolean),S=new Set,M=o.map(t=>{const f=`domain_${t}`;if(S.has(f))return console.warn(`é‡å¤çš„ç ”ç©¶æ–¹å‘èŠ‚ç‚¹ID: ${f}`),null;S.add(f);const _=a.value[t]||1;return{id:f,name:t,category:1,symbolSize:Math.max(25,Math.min(80,Math.log2(_+1)*20)),itemStyle:{color:"#91cc75"}}}).filter(Boolean),N=[...v,...M],W=[],s=new Set;return p.forEach(t=>{const f=`member_${t.id||t.name}`;r.has(f)&&t.domain&&Array.isArray(t.domain)&&t.domain.forEach(_=>{if(_&&_.trim()){const A=`domain_${_}`,q=`${f}-${A}`;!s.has(q)&&S.has(A)&&(s.add(q),W.push({source:f,target:A,lineStyle:{color:l.value?"#666":"#999",width:2,opacity:.6}}))}})}),{title:{text:"æˆå‘˜ä¸ç ”ç©¶æ–¹å‘å…³ç³»ç½‘ç»œ",subtext:"èŠ‚ç‚¹å¤§å°åæ˜ è¿æ¥æ•°é‡ï¼Œæ”¯æŒæ‹–æ‹½å’Œç¼©æ”¾",left:"center",top:"2%",textStyle:{fontSize:18,fontWeight:"bold",color:b().textColor},subtextStyle:{fontSize:12,color:l.value?"#cccccc":"#666666"}},grid:{left:"15%",right:"15%",top:"25%",bottom:"20%",containLabel:!0},tooltip:{trigger:"item",formatter:function(t){var f;if(t.dataType==="node")if(t.data.category===0){const _=((f=d.value.find(A=>A.name===t.data.name))==null?void 0:f.domain)||[];return`æˆå‘˜: ${t.data.name}<br/>ç ”ç©¶æ–¹å‘: ${_.join(", ")}`}else{const _=a.value[t.data.name]||0;return`ç ”ç©¶æ–¹å‘: ${t.data.name}<br/>æˆå‘˜æ•°é‡: ${_} äºº`}return t.data.name}},legend:{data:["æˆå‘˜","ç ”ç©¶æ–¹å‘"],right:"3%",top:"12%",orient:"vertical",itemGap:15,textStyle:{color:b().textColor,fontSize:12},itemWidth:14,itemHeight:14},series:[{name:"å…³ç³»ç½‘ç»œ",type:"graph",layout:"force",data:N,links:W,categories:[{name:"æˆå‘˜",itemStyle:{color:"#5470c6"}},{name:"ç ”ç©¶æ–¹å‘",itemStyle:{color:"#91cc75"}}],roam:!0,focusNodeAdjacency:!0,draggable:!0,force:{repulsion:400,gravity:.2,edgeLength:[20,80],layoutAnimation:!0,friction:.8,initLayout:"circular"},left:100,right:100,top:150,bottom:120,label:{show:!0,position:"right",formatter:"{b}",fontSize:10,color:b().textColor,distance:5},lineStyle:{color:"source",curveness:.2,opacity:.6},emphasis:{focus:"adjacency",lineStyle:{width:6,opacity:.8}}}]}},U=()=>{const p=["1æœˆ","2æœˆ","3æœˆ","4æœˆ","5æœˆ","6æœˆ"],o=Object.entries(a.value).sort((v,S)=>S[1]-v[1]).slice(0,5).map(([v])=>v),r=o.map(v=>({name:v,data:p.map(()=>Math.floor(Math.random()*20)+5)}));return{title:{text:"ç ”ç©¶æ–¹å‘è¶‹åŠ¿åˆ†æ",subtext:"è¿‘6ä¸ªæœˆæˆå‘˜æ•°é‡å˜åŒ–ï¼ˆæ¨¡æ‹Ÿæ•°æ®ï¼‰",left:"center",textStyle:{fontSize:20,fontWeight:"bold",color:b().textColor},subtextStyle:{fontSize:14,color:l.value?"#cccccc":"#666666"}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:o,top:"10%",type:"scroll",textStyle:{color:b().textColor}},grid:{left:"3%",right:"4%",bottom:"3%",top:"20%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:p,axisLabel:{color:b().textColor},axisLine:{lineStyle:{color:b().axisLineColor}}},yAxis:{type:"value",name:"æˆå‘˜æ•°é‡",axisLabel:{color:b().textColor},axisLine:{lineStyle:{color:b().axisLineColor}},splitLine:{lineStyle:{color:b().splitLineColor}}},series:r.map((v,S)=>({name:v.name,type:"line",stack:"Total",smooth:!0,lineStyle:{width:0},showSymbol:!0,symbolSize:6,data:v.data,areaStyle:{opacity:.3}}))}},Z=()=>{try{console.log("å¼€å§‹åˆ·æ–°æ‰€æœ‰å›¾è¡¨ä»¥é€‚åº”ä¸»é¢˜å˜åŒ–"),i&&k.value&&(i.dispose(),i=P(k.value,g()),i.setOption(F())),c&&L.value&&(c.dispose(),c=P(L.value,g()),c.setOption(H())),n&&C.value&&y.value&&(n.dispose(),n=P(C.value,g()),n.setOption(V())),m&&h.value&&(m.dispose(),m=P(h.value,g()),m.setOption(G())),u&&z.value&&(u.dispose(),u=P(z.value,g()),u.setOption(U())),console.log("æ‰€æœ‰å›¾è¡¨å·²åˆ·æ–°ä»¥é€‚åº”ä¸»é¢˜å˜åŒ–")}catch(p){console.error("åˆ·æ–°å›¾è¡¨æ—¶å‡ºé”™:",p)}},R=Q(()=>{var v;const p=d.value.length,o=Object.keys(a.value).length,r=p>0?(d.value.reduce((S,M)=>S+M.domain.length,0)/p).toFixed(1):0;return{totalMembers:p,totalDomains:o,avgDomainsPerMember:r,mostPopularDomain:((v=Object.entries(a.value).sort((S,M)=>M[1]-S[1])[0])==null?void 0:v[0])||"æš‚æ— "}});return X(async()=>{try{let p=function(){try{if(i&&i.dispose(),i=P(k.value,g()),!i){console.error("é¥¼å›¾åˆå§‹åŒ–å¤±è´¥");return}i.setOption(F())}catch(s){console.error("é¥¼å›¾åˆå§‹åŒ–å‡ºé”™:",s)}};x(),typeof window<"u"&&new MutationObserver(()=>{const t=document.documentElement.classList.contains("dark");t!==l.value&&(l.value=t,setTimeout(()=>{Z()},100))}).observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),await I();const r="/members-visualization/data/members.json".replace(/\/+/g,"/");console.log("Fetching data from:",r);const v=await fetch(r);if(!v.ok)throw new Error(`HTTP error! status: ${v.status}`);const M=(await v.json()).map(s=>(Object.keys(s).forEach(t=>{let f=s[t]||"";typeof f=="string"&&(f=f.trim().replace(/^"|"$/g,"")),["domain","repositories"].includes(t)&&(f?f=f.split(";").map(_=>_.trim()).filter(_=>_):f=[]),s[t]=f}),s));d.value=M,console.log("Parsed members:",d.value);const N={};d.value.forEach(s=>{s.domain.forEach(t=>{t&&(N[t]=(N[t]||0)+1)})}),a.value=N,console.log("Domain count:",a.value),E.value=!1,await I(),await new Promise(s=>setTimeout(s,100));try{console.log("å¼€å§‹åŠ è½½è¯äº‘æ’ä»¶...");const s=new Promise((f,_)=>{setTimeout(()=>_(new Error("è¯äº‘æ’ä»¶åŠ è½½è¶…æ—¶")),5e3)}),t=async()=>{if(typeof window<"u"){const f=await ee(()=>import("./chunks/index.CDjEh1uI.js"),__vite__mapDeps([0,1]));return console.log("è¯äº‘æ’ä»¶åŠ è½½æˆåŠŸ (å®¢æˆ·ç«¯)",f),!0}return!1};await Promise.race([t(),s]),y.value=!0,console.log("è¯äº‘æ’ä»¶å·²æˆåŠŸå¯ç”¨")}catch(s){console.error("è¯äº‘æ’ä»¶åŠ è½½å¤±è´¥:",s),y.value=!1,console.warn("è¯äº‘å›¾å°†ä¸ä¼šæ˜¾ç¤ºï¼Œä½†ä¸å½±å“å…¶ä»–åŠŸèƒ½")}await I();const W=async(s=5)=>{if(!k.value&&s>0)return console.log(`é¥¼å›¾å®¹å™¨æœªæ‰¾åˆ°ï¼Œç­‰å¾…DOMæ¸²æŸ“... (å‰©ä½™é‡è¯•: ${s})`),await new Promise(t=>setTimeout(t,200)),W(s-1);if(!k.value){console.error("é¥¼å›¾å®¹å™¨æœ€ç»ˆæœªæ‰¾åˆ°ï¼Œè·³è¿‡é¥¼å›¾åˆå§‹åŒ–");return}p()};if(await W(),!L.value)console.warn("æŸ±çŠ¶å›¾å®¹å™¨æœªæ‰¾åˆ°ï¼Œè·³è¿‡æŸ±çŠ¶å›¾åˆå§‹åŒ–");else try{if(c&&c.dispose(),c=P(L.value,g()),!c){console.error("æŸ±çŠ¶å›¾åˆå§‹åŒ–å¤±è´¥");return}c.setOption(H())}catch(s){console.error("æŸ±çŠ¶å›¾åˆå§‹åŒ–å‡ºé”™:",s)}if(y.value&&C.value)try{console.log("å¼€å§‹åˆå§‹åŒ–è¯äº‘å›¾..."),console.log("è¯äº‘æ•°æ®æ¡ç›®æ•°:",Object.entries(a.value).length);const s=C.value;if(console.log("è¯äº‘å®¹å™¨å°ºå¯¸:",{width:s.offsetWidth,height:s.offsetHeight,clientWidth:s.clientWidth,clientHeight:s.clientHeight}),(s.offsetWidth===0||s.offsetHeight===0)&&(console.warn("è¯äº‘å›¾å®¹å™¨å°ºå¯¸ä¸º0ï¼Œè®¾ç½®é»˜è®¤å°ºå¯¸"),s.style.width="100%",s.style.height="450px",await I()),n&&n.dispose(),n=P(s,g()),!n)throw new Error("è¯äº‘å›¾è¡¨å®ä¾‹åˆ›å»ºå¤±è´¥");const t=V();console.log("è¯äº‘å›¾é…ç½®æ•°æ®é¡¹æ•°é‡:",t.series[0].data.length),console.log("è¯äº‘å›¾å‰5é¡¹æ•°æ®:",t.series[0].data.slice(0,5)),n.setOption(t,!0),setTimeout(()=>{n&&!n.isDisposed()&&(n.resize(),console.log("è¯äº‘å›¾é‡æ–°è°ƒæ•´å°ºå¯¸å®Œæˆ"))},200),console.log("è¯äº‘å›¾åˆå§‹åŒ–å®Œæˆ")}catch(s){console.error("è¯äº‘å›¾åˆå§‹åŒ–å¤±è´¥:",s),console.error("é”™è¯¯å †æ ˆ:",s.stack)}else console.warn("è¯äº‘å›¾è·³è¿‡:",{wordCloudLoaded:y.value,wordCloudRef:!!C.value,containerExists:!!C.value,containerVisible:C.value?C.value.offsetWidth>0:!1});if(!h.value)console.warn("ç½‘ç»œå›¾å®¹å™¨æœªæ‰¾åˆ°ï¼Œè·³è¿‡ç½‘ç»œå›¾åˆå§‹åŒ–");else try{if(m=P(h.value,g()),!m){console.error("ç½‘ç»œå›¾åˆå§‹åŒ–å¤±è´¥");return}const s=G();m.setOption(s)}catch(s){console.error("ç½‘ç»œå›¾åˆå§‹åŒ–å‡ºé”™:",s)}if(!z.value)console.warn("è¶‹åŠ¿å›¾å®¹å™¨æœªæ‰¾åˆ°ï¼Œè·³è¿‡è¶‹åŠ¿å›¾åˆå§‹åŒ–");else try{if(u=P(z.value,g()),!u){console.error("è¶‹åŠ¿å›¾åˆå§‹åŒ–å¤±è´¥");return}u.setOption(U())}catch(s){console.error("è¶‹åŠ¿å›¾åˆå§‹åŒ–å‡ºé”™:",s)}window.handleResize=()=>{i==null||i.resize(),c==null||c.resize(),n==null||n.resize(),m==null||m.resize(),u==null||u.resize()},window.addEventListener("resize",window.handleResize)}catch(p){console.error("Error loading data:",p),T.value=p.message,E.value=!1}}),te(()=>{i==null||i.dispose(),c==null||c.dispose(),n==null||n.dispose(),m==null||m.dispose(),u==null||u.dispose(),window.removeEventListener("resize",window.handleResize)}),(p,o)=>(O(),D("div",re,[E.value?(O(),D("div",ie,[...o[0]||(o[0]=[e("p",null,"æ­£åœ¨åŠ è½½æ•°æ®...",-1)])])):T.value?(O(),D("div",ce,[e("p",null,"åŠ è½½æ•°æ®æ—¶å‡ºé”™: "+$(T.value),1)])):(O(),D("div",de,[e("div",ue,[e("div",fe,[e("div",me,$(R.value.totalMembers),1),o[1]||(o[1]=e("div",{class:"stat-label"},"æ€»æˆå‘˜æ•°",-1))]),e("div",ve,[e("div",pe,$(R.value.totalDomains),1),o[2]||(o[2]=e("div",{class:"stat-label"},"ç ”ç©¶æ–¹å‘æ•°",-1))]),e("div",be,[e("div",he,$(R.value.avgDomainsPerMember),1),o[3]||(o[3]=e("div",{class:"stat-label"},"å¹³å‡æ–¹å‘æ•°/äºº",-1))]),e("div",ge,[e("div",ye,$(R.value.mostPopularDomain),1),o[4]||(o[4]=e("div",{class:"stat-label"},"æœ€çƒ­é—¨æ–¹å‘",-1))])]),e("div",xe,[e("div",{ref_key:"pieRef",ref:k,class:"chart"},null,512)]),e("div",_e,[e("div",{ref_key:"barRef",ref:L,class:"chart"},null,512)]),y.value?(O(),D("div",we,[e("div",{ref_key:"wordCloudRef",ref:C,class:"chart","data-chart-type":"wordcloud"},null,512)])):(O(),D("div",Se,[...o[5]||(o[5]=[e("div",{class:"loading"},[e("p",null,"è¯äº‘æ’ä»¶åŠ è½½ä¸­...")],-1)])])),e("div",$e,[e("div",{ref_key:"networkRef",ref:h,class:"chart-large","data-chart-type":"network"},null,512)]),e("div",Ce,[e("div",{ref_key:"trendRef",ref:z,class:"chart"},null,512)])]))]))}},Oe=Y(De,[["__scopeId","data-v-8df5f07f"]]),ke={class:"data-export"},Pe={class:"quick-stats"},Le={class:"stat-grid"},ze={class:"stat-item"},Me={class:"stat-value"},je={class:"stat-item"},Ee={class:"stat-value"},Te={class:"stat-item"},Re={class:"stat-value"},Ne={class:"stat-item"},We={class:"stat-value"},Ae={class:"domain-details"},Ie={class:"domain-list"},Be={class:"domain-name"},Fe={class:"domain-stats"},He={class:"count"},Ve={class:"percentage"},Je={class:"progress-bar"},Ge={class:"export-actions"},Ue={class:"action-buttons"},qe=["disabled"],Ke=["disabled"],Ye=["disabled"],Qe={key:0,class:"exporting-indicator"},Xe={__name:"DataExport",setup(B){const y=w(!1),l=w([]),k=w({}),L=w(!0),C=async()=>{try{const a="/members-visualization/data/members.json".replace(/\/+/g,"/"),i=await fetch(a);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const n=(await i.json()).map(u=>(Object.keys(u).forEach(x=>{let g=u[x]||"";typeof g=="string"&&(g=g.trim().replace(/^"|"$/g,"")),["domain"].includes(x)&&(g?g=g.split(";").map(b=>b.trim()).filter(b=>b):g=[]),u[x]=g}),u));l.value=n;const m={};n.forEach(u=>{u.domain.forEach(x=>{x&&(m[x]=(m[x]||0)+1)})}),k.value=m}catch(d){console.error("DataExportæ•°æ®åŠ è½½å¤±è´¥:",d)}finally{L.value=!1}};X(()=>{C()});const h=Q(()=>{var n,m;const d=l.value.length,a=Object.keys(k.value).length,i=d>0?(l.value.reduce((u,x)=>u+x.domain.length,0)/d).toFixed(2):0,c=Object.entries(k.value).sort((u,x)=>x[1]-u[1]).map(([u,x])=>({domain:u,count:x,percentage:(x/d*100).toFixed(1)}));return{totalMembers:d,totalDomains:a,avgDomainsPerMember:i,domainStats:c,mostPopularDomain:((n=c[0])==null?void 0:n.domain)||"æš‚æ— ",leastPopularDomain:((m=c[c.length-1])==null?void 0:m.domain)||"æš‚æ— "}}),z=()=>{y.value=!0;try{const a=[["ID","å§“å","GitHubé“¾æ¥","ç ”ç©¶æ–¹å‘"].join(",")];l.value.forEach(m=>{const u=[m.id,`"${m.name}"`,`"${m.github}"`,`"${m.domain.join(";")}"`];a.push(u.join(","))});const i=a.join(`
`),c=new Blob(["\uFEFF"+i],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a");if(n.download!==void 0){const m=URL.createObjectURL(c);n.setAttribute("href",m),n.setAttribute("download",`members_data_${new Date().toISOString().split("T")[0]}.csv`),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)}}catch(d){console.error("å¯¼å‡ºå¤±è´¥:",d),alert("å¯¼å‡ºå¤±è´¥ï¼Œè¯·é‡è¯•")}finally{y.value=!1}},E=()=>{y.value=!0;try{const d={exportDate:new Date().toISOString(),summary:{totalMembers:h.value.totalMembers,totalDomains:h.value.totalDomains,avgDomainsPerMember:parseFloat(h.value.avgDomainsPerMember),mostPopularDomain:h.value.mostPopularDomain,leastPopularDomain:h.value.leastPopularDomain},domainStatistics:h.value.domainStats,memberDetails:l.value.map(n=>({id:n.id,name:n.name,github:n.github,domains:n.domain,domainCount:n.domain.length}))},a=JSON.stringify(d,null,2),i=new Blob([a],{type:"application/json"}),c=document.createElement("a");if(c.download!==void 0){const n=URL.createObjectURL(i);c.setAttribute("href",n),c.setAttribute("download",`members_report_${new Date().toISOString().split("T")[0]}.json`),c.style.visibility="hidden",document.body.appendChild(c),c.click(),document.body.removeChild(c)}}catch(d){console.error("å¯¼å‡ºå¤±è´¥:",d),alert("å¯¼å‡ºå¤±è´¥ï¼Œè¯·é‡è¯•")}finally{y.value=!1}},T=async()=>{try{const d=`
ç»„ç»‡æˆå‘˜ç»Ÿè®¡æŠ¥å‘Š
ç”Ÿæˆæ—¶é—´: ${new Date().toLocaleString()}

åŸºæœ¬ç»Ÿè®¡:
- æ€»æˆå‘˜æ•°: ${h.value.totalMembers}
- ç ”ç©¶æ–¹å‘æ•°: ${h.value.totalDomains}
- å¹³å‡æ–¹å‘æ•°/äºº: ${h.value.avgDomainsPerMember}
- æœ€çƒ­é—¨æ–¹å‘: ${h.value.mostPopularDomain}

ç ”ç©¶æ–¹å‘åˆ†å¸ƒ:
${h.value.domainStats.map(a=>`- ${a.domain}: ${a.count}äºº (${a.percentage}%)`).join(`
`)}
    `.trim();await navigator.clipboard.writeText(d),alert("ç»Ÿè®¡æ•°æ®å·²å¤åˆ¶åˆ°å‰ªè´´æ¿")}catch(d){console.error("å¤åˆ¶å¤±è´¥:",d),alert("å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨é€‰æ‹©æ–‡æœ¬")}};return(d,a)=>(O(),D("div",ke,[a[9]||(a[9]=e("div",{class:"export-header"},[e("h3",null,"æ•°æ®å¯¼å‡ºä¸ç»Ÿè®¡"),e("p",null,"å¯¼å‡ºæˆå‘˜æ•°æ®å’Œç»Ÿè®¡æŠ¥å‘Š")],-1)),e("div",Pe,[e("div",Le,[e("div",ze,[e("div",Me,$(h.value.totalMembers),1),a[0]||(a[0]=e("div",{class:"stat-label"},"æ€»æˆå‘˜æ•°",-1))]),e("div",je,[e("div",Ee,$(h.value.totalDomains),1),a[1]||(a[1]=e("div",{class:"stat-label"},"ç ”ç©¶æ–¹å‘æ•°",-1))]),e("div",Te,[e("div",Re,$(h.value.avgDomainsPerMember),1),a[2]||(a[2]=e("div",{class:"stat-label"},"å¹³å‡æ–¹å‘æ•°/äºº",-1))]),e("div",Ne,[e("div",We,$(h.value.mostPopularDomain),1),a[3]||(a[3]=e("div",{class:"stat-label"},"æœ€çƒ­é—¨æ–¹å‘",-1))])])]),e("div",Ae,[a[4]||(a[4]=e("h4",null,"ç ”ç©¶æ–¹å‘è¯¦ç»†ç»Ÿè®¡",-1)),e("div",Ie,[(O(!0),D(oe,null,ae(h.value.domainStats,i=>(O(),D("div",{key:i.domain,class:"domain-item"},[e("div",Be,$(i.domain),1),e("div",Fe,[e("span",He,$(i.count)+" äºº",1),e("span",Ve,$(i.percentage)+"%",1)]),e("div",Je,[e("div",{class:"progress-fill",style:se({width:i.percentage+"%"})},null,4)])]))),128))])]),e("div",Ge,[a[8]||(a[8]=e("h4",null,"å¯¼å‡ºé€‰é¡¹",-1)),e("div",Ue,[e("button",{onClick:z,disabled:y.value,class:"export-btn csv-btn"},[...a[5]||(a[5]=[e("span",{class:"btn-icon"},"ğŸ“Š",-1),j(" å¯¼å‡º CSV æ•°æ® ",-1)])],8,qe),e("button",{onClick:E,disabled:y.value,class:"export-btn json-btn"},[...a[6]||(a[6]=[e("span",{class:"btn-icon"},"ğŸ“‹",-1),j(" å¯¼å‡ºç»Ÿè®¡æŠ¥å‘Š ",-1)])],8,Ke),e("button",{onClick:T,disabled:y.value,class:"export-btn copy-btn"},[...a[7]||(a[7]=[e("span",{class:"btn-icon"},"ğŸ“„",-1),j(" å¤åˆ¶ç»Ÿè®¡æ•°æ® ",-1)])],8,Ye)]),y.value?(O(),D("div",Qe," æ­£åœ¨å¯¼å‡ºæ•°æ®... ")):ne("",!0)])]))}},Ze=Y(Xe,[["__scopeId","data-v-78bf9768"]]),et={style:{"margin-top":"4rem","padding-top":"2rem","border-top":"1px solid var(--vp-c-divider)"}},st=JSON.parse('{"title":"ğŸ“ˆ è´¡çŒ®è€…æ•°æ®","description":"","frontmatter":{},"headers":[],"relativePath":"stats.md","filePath":"stats.md","lastUpdated":1759944698000}'),tt={name:"stats.md"},nt=Object.assign(tt,{setup(B){return(y,l)=>(O(),D("div",null,[l[0]||(l[0]=e("h1",{id:"ğŸ“ˆ-è´¡çŒ®è€…æ•°æ®",tabindex:"-1"},[j("ğŸ“ˆ è´¡çŒ®è€…æ•°æ® "),e("a",{class:"header-anchor",href:"#ğŸ“ˆ-è´¡çŒ®è€…æ•°æ®","aria-label":'Permalink to "ğŸ“ˆ è´¡çŒ®è€…æ•°æ®"'},"â€‹")],-1)),l[1]||(l[1]=e("h2",{id:"ğŸ“Š-æ•°æ®æ¦‚è§ˆ",tabindex:"-1"},[j("ğŸ“Š æ•°æ®æ¦‚è§ˆ "),e("a",{class:"header-anchor",href:"#ğŸ“Š-æ•°æ®æ¦‚è§ˆ","aria-label":'Permalink to "ğŸ“Š æ•°æ®æ¦‚è§ˆ"'},"â€‹")],-1)),l[2]||(l[2]=e("p",null,"ä»¥ä¸‹å›¾è¡¨å±•ç¤ºäº†è´¡çŒ®è€…çš„ç ”ç©¶æ–¹å‘åˆ†å¸ƒæƒ…å†µï¼š",-1)),K(Oe),l[3]||(l[3]=e("h2",{id:"ğŸ“ˆ-æ•°æ®å¯¼å‡º",tabindex:"-1"},[j("ğŸ“ˆ æ•°æ®å¯¼å‡º "),e("a",{class:"header-anchor",href:"#ğŸ“ˆ-æ•°æ®å¯¼å‡º","aria-label":'Permalink to "ğŸ“ˆ æ•°æ®å¯¼å‡º"'},"â€‹")],-1)),e("div",et,[K(Ze)])]))}});export{st as __pageData,nt as default};
